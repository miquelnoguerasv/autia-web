<html lang="es" class="antialiased dark">

<head>
  <script>window.va = window.va || function () { (window.va.q = window.va.q || []).push(arguments); };</script>
  <script defer src="/_vercel/insights/script.js"></script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/png" href="favicon.png">

  <!-- SEO Meta Tags -->
  <title>Agencia Inteligencia Artificial Barcelona | autiA - Consultoría IA & Desarrollo Software</title>
  <meta name="description"
    content="Agencia experta en Inteligencia Artificial en Barcelona y España. Consultoría estratégica, desarrollo de agentes autónomos, RAG y Apps IA para empresas. Transformamos tu negocio hoy.">
  <meta name="keywords"
    content="Agencia IA Barcelona, Empresa Inteligencia Artificial España, Consultoría IA Cataluña, Desarrollo Software IA, Agentes Autónomos, Automatización Procesos, autiA">
  <meta name="author" content="autiA Agency">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://www.agenciautia.es/">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="business.business">
  <meta property="og:url" content="https://www.agenciautia.es/">
  <meta property="og:title" content="Agencia IA Barcelona | autiA - Partner Tecnológico de Inteligencia Artificial">
  <meta property="og:description"
    content="Expertos en integración de IA para empresas. Consultoría estratégica y desarrollo de software a medida en Barcelona.">
  <meta property="og:locale" content="es_ES">
  <meta property="og:site_name" content="autiA">
  <meta property="og:image" content="https://www.agenciautia.es/og-image.png">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:url" content="https://www.agenciautia.es/">
  <meta name="twitter:title" content="Agencia IA Barcelona | autiA">
  <meta name="twitter:description"
    content="Consultoría y Desarrollo de IA en Barcelona. Llevamos tu empresa al siguiente nivel con inteligencia artificial real.">
  <meta name="twitter:image" content="https://www.agenciautia.es/og-image.png">

  <!-- Schema.org JSON-LD -->
  <!-- Schema.org JSON-LD -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@graph": [
      {
        "@type": "Organization",
        "@id": "https://www.agenciautia.es/#organization",
        "name": "autiA",
        "url": "https://www.agenciautia.es/",
        "logo": "https://www.agenciautia.es/logo.png",
        "description": "Agencia experta en Inteligencia Artificial. Consultoría estratégica y desarrollo de software a medida.",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Barcelona",
          "addressRegion": "Cataluña",
          "addressCountry": "ES"
        },
        "contactPoint": {
          "@type": "ContactPoint",
          "contactType": "customer service",
          "areaServed": "ES",
          "availableLanguage": ["Es", "En"]
        },
        "sameAs": [
          "https://www.linkedin.com/company/agenciautia",
          "https://twitter.com/agenciautia"
        ]
      },
      {
        "@type": "ProfessionalService",
        "@id": "https://www.agenciautia.es/#service",
        "name": "autiA - Agencia de Inteligencia Artificial",
        "image": "https://www.agenciautia.es/logo.png",
        "url": "https://www.agenciautia.es",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "Barcelona",
          "addressRegion": "Cataluña",
          "addressCountry": "ES"
        },
        "geo": {
          "@type": "GeoCoordinates",
          "latitude": 41.3851,
          "longitude": 2.1734
        },
        "areaServed": ["Barcelona", "Cataluña", "España"],
        "priceRange": "$$$",
        "hasOfferCatalog": {
          "@type": "OfferCatalog",
          "name": "Servicios de Inteligencia Artificial",
          "itemListElement": [
            {
              "@type": "Offer",
              "itemOffered": {
                "@type": "Service",
                "name": "Consultoría Estratégica IA",
                "description": "Auditoría, formación y estrategia de adopción de IA para empresas.",
                "url": "https://www.agenciautia.es/servicios/consultoria-estrategica-ia/"
              }
            },
            {
              "@type": "Offer",
              "itemOffered": {
                "@type": "Service",
                "name": "Desarrollo de Agentes Autónomos",
                "description": "Creación de agentes IA para automatización de procesos y RAG.",
                "url": "https://www.agenciautia.es/servicios/desarrollo-agentes-ia/"
              }
            },
            {
              "@type": "Offer",
              "itemOffered": {
                "@type": "Service",
                "name": "Desarrollo de Apps y Software IA",
                "description": "Ingeniería de software a medida integrada con modelos de IA.",
                "url": "https://www.agenciautia.es/servicios/apps-inteligentes/"
              }
            }
          ]
        }
      }
    ]
  }
  </script>

  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&amp;display=swap" rel="stylesheet">
  <link rel="preload" as="video"
    href="https://cdn.coverr.co/videos/coverr-digital-lines-moving-background-4770/1080p.mp4" type="video/mp4">
  <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js" defer></script>
  <style>
    html {
      scroll-behavior: smooth;
    }

    body {
      background-color: #000000;
      color: #e5e5e5;
      font-family: "Inter", sans-serif;
      letter-spacing: -0.01em;
      overflow-x: hidden;
    }

    /* Technical Grid */
    .technical-grid {
      background-size: 40px 40px;
      background-image: linear-gradient(to right,
          rgba(255, 255, 255, 0.02) 1px,
          transparent 1px),
        linear-gradient(to bottom,
          rgba(255, 255, 255, 0.02) 1px,
          transparent 1px);
      mask-image: linear-gradient(to bottom,
          transparent 5%,
          black 40%,
          black 70%,
          transparent 95%);
    }

    /* Custom Switch */
    .toggle-switch {
      width: 32px;
      height: 18px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 99px;
      position: relative;
      border: 1px solid rgba(255, 255, 255, 0.1);
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .toggle-switch::after {
      content: "";
      position: absolute;
      left: 2px;
      top: 2px;
      width: 12px;
      height: 12px;
      background: white;
      border-radius: 50%;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
      transition: all 0.3s ease;
    }

    .toggle-switch.active {
      background: rgba(16, 185, 129, 0.2);
      border-color: rgba(16, 185, 129, 0.5);
    }

    .toggle-switch.active::after {
      transform: translateX(14px);
      background: #34d399;
      box-shadow: 0 0 10px rgba(52, 211, 153, 0.5);
    }

    /* Animations */
    @keyframes animationIn {
      0% {
        opacity: 0;
        transform: translateY(20px);
        filter: blur(5px);
      }

      100% {
        opacity: 1;
        transform: translateY(0);
        filter: blur(0px);
      }
    }

    .animate-on-scroll {
      animation-play-state: paused !important;
    }

    .animate-on-scroll.animate {
      animation-play-state: running !important;
    }

    /* Noise Overlay */
    body::before {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: url("https://grainy-gradients.vercel.app/noise.svg");
      opacity: 0.04;
      pointer-events: none;
      z-index: 100;
      mix-blend-mode: overlay;
    }

    /* Spotlight */
    .spotlight-grid {
      --mouse-x: -1000px;
      --mouse-y: -1000px;
    }

    .spotlight-card::after {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(600px circle at var(--mouse-x) var(--mouse-y),
          rgba(255, 255, 255, 0.06),
          transparent 40%);
      opacity: 0;
      transition: opacity 0.3s;
      pointer-events: none;
      z-index: 2;
      mix-blend-mode: screen;
    }

    .spotlight-grid:hover .spotlight-card::after {
      opacity: 1;
    }

    /* Marquee */
    .marquee-wrapper {
      mask-image: linear-gradient(to right,
          transparent,
          black 10%,
          black 90%,
          transparent);
    }

    .marquee-content {
      display: flex;
      gap: 4rem;
      width: max-content;
      animation: marquee 40s linear infinite;
    }

    @keyframes marquee {
      0% {
        transform: translateX(0);
      }

      100% {
        transform: translateX(-50%);
      }
    }

    /* Magnetic Button */
    .magnetic-btn {
      transition: transform 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }

    /* Glitch Effect */
    .glitch-hover:hover .glitch-target {
      animation: glitch-anim 0.3s infinite;
    }

    @keyframes glitch-anim {
      0% {
        transform: translate(0);
      }

      20% {
        transform: translate(-1px, 1px);
      }

      40% {
        transform: translate(-1px, -1px);
      }

      60% {
        transform: translate(1px, 1px);
      }

      80% {
        transform: translate(1px, -1px);
      }

      100% {
        transform: translate(0);
      }
    }

    /* Typewriter Cursor */
    .typewriter-cursor {
      display: inline-block;
      width: 4px;
      height: 1em;
      background-color: #a855f7;
      margin-left: 8px;
      vertical-align: middle;
      animation: blink 1s step-end infinite;
    }

    @keyframes blink {

      0%,
      100% {
        opacity: 1;
      }

      50% {
        opacity: 0;
      }
    }

    /* Shiny CTA Button */
    @property --gradient-angle {
      syntax: "<angle>";
      initial-value: 0deg;
      inherits: false;
    }

    @property --gradient-angle-offset {
      syntax: "<angle>";
      initial-value: 0deg;
      inherits: false;
    }

    @property --gradient-percent {
      syntax: "<percentage>";
      initial-value: 20%;
      inherits: false;
    }

    @property --gradient-shine {
      syntax: "<color>";
      initial-value: #10b981;
      inherits: false;
    }

    .shiny-cta {
      --gradient-angle: 0deg;
      --gradient-angle-offset: 0deg;
      --gradient-percent: 20%;
      --gradient-shine: #a855f7;
      position: relative;
      overflow: hidden;
      border-radius: 9999px;
      padding: 1rem 2.5rem;
      font-family: inherit;
      font-size: 0.75rem;
      line-height: 1;
      font-weight: 600;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      color: #ffffff;
      background: linear-gradient(#000000, #000000) padding-box, conic-gradient(from calc(var(--gradient-angle) - var(--gradient-angle-offset)), transparent 0%, #6b21a8 5%, var(--gradient-shine) 15%, #6b21a8 30%, transparent 40%, transparent 100%) border-box;
      border: 1px solid transparent;
      box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.1);
      outline: none;
      transition: all 0.5s cubic-bezier(0.25, 1, 0.5, 1);
      cursor: pointer;
      isolation: isolate;
      z-index: 0;
      animation: border-spin 3s linear infinite;
    }

    @keyframes border-spin {
      to {
        --gradient-angle: 360deg;
      }
    }

    .shiny-cta:hover {
      --gradient-shine: #d8b4fe;
      transform: scale(1.02);
      box-shadow: 0 0 20px rgba(168, 85, 247, 0.3), inset 0 0 0 1px rgba(255, 255, 255, 0.2);
    }

    /* Pricing Card Gradient */
    .pricing-highlight {
      background: radial-gradient(circle at top right, rgba(16, 185, 129, 0.1), transparent 40%),
        linear-gradient(to bottom, rgba(255, 255, 255, 0.03), rgba(255, 255, 255, 0.01));
    }

    /* --- THE WALL STYLES --- */
    .wall-container {
      perspective: 2000px;
      transform-style: preserve-3d;
    }

    .wall-grid {
      transform: rotateY(-18deg) rotateX(10deg) rotateZ(-2deg) scale(1.1);
      transform-style: preserve-3d;
    }

    .wall-column {
      will-change: transform;
    }

    .wall-column-up {
      animation: scrollUp 40s linear infinite;
    }

    .wall-column-down {
      animation: scrollDown 40s linear infinite;
    }

    @keyframes scrollUp {
      0% {
        transform: translateY(0);
      }

      100% {
        transform: translateY(-50%);
      }
    }

    @keyframes scrollDown {
      0% {
        transform: translateY(-50%);
      }

      100% {
        transform: translateY(0);
      }
    }

    /* Glass Card in Wall */
    .wall-card {
      background: rgba(23, 23, 23, 0.6);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.08);
      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.3), inset 0 0 20px rgba(255, 255, 255, 0.02);
      transition: border-color 0.3s, background-color 0.3s, transform 0.3s;
    }

    .wall-card:hover {
      border-color: rgba(255, 255, 255, 0.2);
      background: rgba(30, 30, 30, 0.8);
      transform: translateZ(20px);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5), inset 0 0 20px rgba(255, 255, 255, 0.05);
    }

    /* Masking the Wall */
    .wall-mask {
      mask-image: linear-gradient(to right, transparent, black 15%, black 85%, transparent),
        linear-gradient(to bottom, transparent, black 15%, black 85%, transparent);
      mask-composite: intersect;
    }

    /* Hide Scrollbar */
    .no-scrollbar::-webkit-scrollbar {
      display: none;
    }

    .no-scrollbar {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
  </style>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // Intersection Observer
      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.classList.add("animate");
              observer.unobserve(entry.target);
            }
          });
        },
        { threshold: 0.1, rootMargin: "0px 0px -5% 0px" }
      );
      document
        .querySelectorAll(".animate-on-scroll")
        .forEach((el) => observer.observe(el));
      // Spotlight Logic
      document.querySelectorAll(".spotlight-grid").forEach((grid) => {
        grid.addEventListener("mousemove", (e) => {
          const rect = grid.getBoundingClientRect();
          grid.style.setProperty("--mouse-x", `${e.clientX - rect.left}px`);
          grid.style.setProperty("--mouse-y", `${e.clientY - rect.top}px`);
        });
      });
      // Scramble Text
      const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";
      document.querySelectorAll("[data-scramble]").forEach((el) => {
        el.setAttribute("data-original", el.innerText);
        el.addEventListener("mouseenter", () => {
          let iter = 0;
          const original = el.getAttribute("data-original");
          const interval = setInterval(() => {
            el.innerText = original
              .split("")
              .map((l, i) => {
                if (i < iter) return original[i];
                return chars[Math.floor(Math.random() * chars.length)];
              })
              .join("");
            if (iter >= original.length) clearInterval(interval);
            iter += 1 / 3;
          }, 30);
          el.dataset.interval = interval;
        });
        el.addEventListener("mouseleave", () => {
          clearInterval(el.dataset.interval);
          el.innerText = el.getAttribute("data-original");
        });
      });
      // Magnetic Buttons
      document.querySelectorAll(".magnetic-btn").forEach((btn) => {
        btn.addEventListener("mousemove", (e) => {
          const rect = btn.getBoundingClientRect();
          const x = e.clientX - rect.left - rect.width / 2;
          const y = e.clientY - rect.top - rect.height / 2;
          btn.style.transform = `translate(${x * 0.15}px, ${y * 0.15}px)`;
        });
        btn.addEventListener("mouseleave", () => {
          btn.style.transform = "translate(0px, 0px)";
        });
      });

      // Typewriter Effect
      const typewriterElement = document.getElementById("typewriter-text");
      const words = ["Inteligencia Artificial.", "Estrategia de Datos.", "Software a Medida.", "Automatización."];
      let wordIndex = 0;
      let charIndex = 0;
      let isDeleting = false;
      let typeSpeed = 100;

      function type() {
        const currentWord = words[wordIndex];

        if (isDeleting) {
          typewriterElement.textContent = currentWord.substring(0, charIndex - 1);
          charIndex--;
          typeSpeed = 50; // Deleting speed
        } else {
          typewriterElement.textContent = currentWord.substring(0, charIndex + 1);
          charIndex++;
          typeSpeed = 100; // Typing speed
        }

        if (!isDeleting && charIndex === currentWord.length) {
          isDeleting = true;
          typeSpeed = 2000; // Pause at end
        } else if (isDeleting && charIndex === 0) {
          isDeleting = false;
          wordIndex = (wordIndex + 1) % words.length;
          typeSpeed = 500; // Pause before new word
        }

        setTimeout(type, typeSpeed);
      }

      if (typewriterElement) {
        type();
      }

      // --- Active Navigation State (Scroll Spy) ---
      const sections = document.querySelectorAll("section[id], footer[id]");
      const navLinks = document.querySelectorAll("nav a[href^='#']");

      const activeClasses = ["bg-white", "text-black", "font-semibold", "shadow-[0_0_10px_rgba(255,255,255,0.3)]"];
      const inactiveClasses = ["text-neutral-400", "hover:text-white", "hover:bg-white/5", "font-medium"];

      function setActiveLink(id) {
        navLinks.forEach(link => {
          const href = link.getAttribute("href").substring(1);
          if (href === id) {
            link.classList.add(...activeClasses);
            link.classList.remove(...inactiveClasses);
          } else {
            link.classList.remove(...activeClasses);
            link.classList.add(...inactiveClasses);
          }
        });
      }

      const observerOptions = {
        root: null,
        rootMargin: "-20% 0px -60% 0px", // Trigger when section is near top/center
        threshold: 0
      };

      const scrollObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            setActiveLink(entry.target.id);
          }
        });
      }, observerOptions);

      sections.forEach(section => scrollObserver.observe(section));

    });
  </script>
</head>

<body class="relative min-h-screen selection:bg-white selection:text-black pt-32">
  <!-- Hero Video Background -->
  <div class="fixed inset-0 -z-30 w-full h-full overflow-hidden pointer-events-none">
    <video autoplay="" loop="" muted="" playsinline="" class="w-full h-full object-cover opacity-20 mix-blend-screen"
      style="filter: hue-rotate(150deg) contrast(1.2);">
      <source src="https://cdn.coverr.co/videos/coverr-digital-lines-moving-background-4770/1080p.mp4" type="video/mp4">
    </video>
    <div class="absolute inset-0 bg-gradient-to-b from-black via-black/80 to-black"></div>
  </div>

  <!-- Aura Background -->
  <div class="aura-background-component top-0 w-full mix-blend-screen -z-20 absolute h-[1200px]" data-alpha-mask="60"
    style="
        mask-image: linear-gradient(
          to bottom,
          transparent,
          black 0%,
          black 80%,
          transparent
        );
      ">
    <div class="aura-background-component top-0 w-full -z-10 absolute h-full">
      <div data-us-project="ILgOO23w4wEyPQOKyLO4" class="absolute w-full h-full left-0 top-0 -z-10"></div>
      <script type="text/javascript">
        !(function () {
          if (!window.UnicornStudio) {
            window.UnicornStudio = { isInitialized: !1 };
            var i = document.createElement("script");
            (i.src =
              "https://cdn.jsdelivr.net/gh/hiunicornstudio/unicornstudio.js@v1.4.29/dist/unicornStudio.umd.js"),
              (i.onload = function () {
                window.UnicornStudio.isInitialized ||
                  (UnicornStudio.init(),
                    (window.UnicornStudio.isInitialized = !0));
              }),
              (document.head || document.body).appendChild(i);
          }
        })();
      </script>
    </div>
  </div>

  <!-- Technical Grid Overlay (Global) -->
  <div class="fixed inset-0 pointer-events-none z-0 technical-grid opacity-30"></div>

  <!-- Vertical Structure Lines -->
  <div class="fixed inset-0 pointer-events-none z-0 max-w-[1400px] mx-auto border-x border-white/[0.04]">
    <div class="absolute left-1/4 h-full w-px bg-white/[0.02]"></div>
    <div class="absolute left-2/4 h-full w-px bg-white/[0.02]"></div>
    <div class="absolute left-3/4 h-full w-px bg-white/[0.02]"></div>
  </div>

  <!-- Navigation -->
  <div class="fixed z-50 flex w-full top-6 px-6 justify-center">
    <nav class="flex w-full max-w-[1400px] mx-auto items-center justify-between">
      <div class="flex items-center gap-3">
        <img src="logo.png" alt="autiA Logo" class="h-16 md:h-20 w-auto object-contain" loading="eager">
      </div>

      <div
        class="hidden md:flex items-center gap-1 backdrop-blur-xl bg-white/[0.03] border border-white/[0.08] rounded-full p-1.5 pr-2 shadow-[0_0_20px_rgba(0,0,0,0.5)] absolute left-1/2 -translate-x-1/2">
        <a href="#inicio"
          class="px-5 py-2 rounded-full text-neutral-400 hover:text-white hover:bg-white/5 text-[11px] font-medium transition-all tracking-wide">
          Inicio
        </a>
        <a href="#servicios"
          class="px-5 py-2 rounded-full text-neutral-400 hover:text-white hover:bg-white/5 text-[11px] font-medium transition-all tracking-wide">
          Servicios
        </a>
        <a href="#casos"
          class="px-5 py-2 rounded-full text-neutral-400 hover:text-white hover:bg-white/5 text-[11px] font-medium transition-all tracking-wide">
          Tecnología
        </a>
        <a href="#contacto"
          class="px-5 py-2 rounded-full text-neutral-400 hover:text-white hover:bg-white/5 text-[11px] font-medium transition-all tracking-wide">
          Contacto
        </a>
      </div>


    </nav>
  </div>

  <main class="z-10 relative">
    <!-- New Hero Section -->
    <section id="inicio"
      class="max-w-[1400px] mx-auto px-6 h-screen flex flex-col justify-center relative border-b border-white/5 overflow-hidden">
      <!-- Background Elements -->
      <div
        class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-emerald-500/10 blur-[120px] rounded-full pointer-events-none">
      </div>

      <div class="relative z-10 max-w-full -mt-20">


        <h1
          class="text-6xl md:text-8xl lg:text-9xl font-medium tracking-tighter text-white leading-[0.95] mb-8 animate-on-scroll [animation:animationIn_0.8s_ease-out_0.3s_both]">
          Revoluciona
          <br>
          tu sector con
          <br>
          <span
            class="text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-indigo-300 to-white relative whitespace-nowrap">
            <span id="typewriter-text"></span><span class="typewriter-cursor"></span>
          </span>
        </h1>

        <p
          class="text-lg text-neutral-400 max-w-xl leading-relaxed font-light mb-12 animate-on-scroll [animation:animationIn_0.8s_ease-out_0.4s_both]">
          Tu <strong>Partner Tecnológico</strong> integral. Entendemos tu modelo de negocio y aplicamos
          <strong>Inteligencia Artificial</strong> para generar impacto real. Consultoría, Sistemas y Apps en una
          agencia 360°.
        </p>

        <div
          class="flex flex-wrap items-center gap-6 animate-on-scroll [animation:animationIn_0.8s_ease-out_0.5s_both]">
          <a href="#diagnostico" class="shiny-cta inline-flex items-center justify-center">
            <span class="relative z-10 flex items-center gap-2">
              Empezar Proyecto
              <iconify-icon icon="ph:arrow-right" class="group-hover:translate-x-1 transition-transform"></iconify-icon>
            </span>
          </a>
          <a href="#servicios"
            class="text-sm text-neutral-400 hover:text-white transition-colors flex items-center gap-2">
            Explorar Servicios <iconify-icon icon="ph:caret-down"></iconify-icon>
          </a>
        </div>
      </div>
    </section>

    <!-- Services (3 Pillars) -->
    <!-- Services (3 Pillars) - Enhanced Glassmorphism -->
    <section id="servicios" class="py-32 border-b border-white/5 relative bg-black relative overflow-hidden">
      <!-- Ambient Background Glow -->
      <div
        class="absolute top-0 right-0 w-[600px] h-[600px] bg-emerald-500/10 blur-[150px] rounded-full pointer-events-none opacity-40">
      </div>

      <div class="max-w-[1400px] mx-auto px-6 relative z-10">
        <div class="flex flex-col md:flex-row justify-between items-end mb-20">
          <div>
            <div class="text-[10px] font-mono text-emerald-500 uppercase mb-4 tracking-widest">
              01 — LÓGICA DE NEGOCIO
            </div>
            <h2 class="text-4xl md:text-5xl font-medium tracking-tight text-white leading-tight">
              Los 3 Pilares <br> <span class="text-neutral-500">Fundamentales.</span>
            </h2>
          </div>
          <p class="text-neutral-400 max-w-sm text-sm text-right mt-6 md:mt-0">
            Más que proveedores, somos tu socio estratégico. Unimos visión de negocio y ejecución técnica de élite.
          </p>
        </div>

        <!-- Bento Grid Layout -->
        <div class="grid grid-cols-1 lg:grid-cols-12 gap-6 min-h-[700px]">

          <!-- Pillar 1: Consultoría (Featured - Span 7) -->
          <a href="servicios/consultoria-estrategica-ia/index.html"
            class="col-span-1 lg:col-span-7 flex flex-col group relative rounded-3xl overflow-hidden border border-white/10 bg-white/[0.02] hover:border-emerald-500/30 transition-all duration-500 hover:shadow-[0_0_50px_rgba(16,185,129,0.05)]">
            <!-- Background Image / Gradient -->
            <div
              class="absolute inset-0 bg-gradient-to-br from-emerald-900/10 via-black to-black opacity-50 group-hover:opacity-100 transition-opacity duration-700">
            </div>
            <div
              class="absolute inset-0 bg-[radial-gradient(circle_at_top_right,rgba(16,185,129,0.1),transparent_50%)]">
            </div>

            <div class="relative z-10 flex-grow p-8 md:p-12 flex flex-col">
              <div class="mb-auto">
                <div
                  class="inline-flex items-center gap-2 px-3 py-1 rounded-full border border-emerald-500/20 bg-emerald-500/5 mb-8">
                  <div class="w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"></div>
                  <span class="text-[10px] font-mono uppercase text-emerald-400 tracking-wider">Core Expertise</span>
                </div>

                <h3 class="text-3xl md:text-5xl font-medium text-white mb-6 leading-tight">
                  Consultoría Estratégica <br>
                  <span class="text-neutral-500 group-hover:text-white transition-colors duration-500">de Negocio &
                    IA.</span>
                </h3>

                <p class="text-neutral-400 text-lg leading-relaxed max-w-xl">
                  No vendemos soluciones enlatadas. Entendemos el ADN de tu empresa y diseñamos una estrategia de IA que
                  se integre de forma natural en tus procesos reales.
                </p>
              </div>

              <div class="mt-12 pt-8 border-t border-white/5">
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-6">
                  <div class="flex items-start gap-4">
                    <div
                      class="w-10 h-10 rounded-lg bg-emerald-500/10 flex items-center justify-center flex-shrink-0 text-emerald-500">
                      <iconify-icon icon="ph:plant-duotone" width="24"></iconify-icon>
                    </div>
                    <div>
                      <h4 class="text-white text-sm font-medium mb-1">Adaptación Cultural</h4>
                      <p class="text-xs text-neutral-500">Tecnología que respeta tus valores.</p>
                    </div>
                  </div>
                  <div class="flex items-start gap-4">
                    <div
                      class="w-10 h-10 rounded-lg bg-emerald-500/10 flex items-center justify-center flex-shrink-0 text-emerald-500">
                      <iconify-icon icon="ph:chart-polar-duotone" width="24"></iconify-icon>
                    </div>
                    <div>
                      <h4 class="text-white text-sm font-medium mb-1">Auditoría de Impacto</h4>
                      <p class="text-xs text-neutral-500">KPIs claros antes de invertir.</p>
                    </div>
                  </div>
                  <div class="flex items-start gap-4">
                    <div
                      class="w-10 h-10 rounded-lg bg-emerald-500/10 flex items-center justify-center flex-shrink-0 text-emerald-500">
                      <iconify-icon icon="ph:users-four-duotone" width="24"></iconify-icon>
                    </div>
                    <div>
                      <h4 class="text-white text-sm font-medium mb-1">Formación de Equipos</h4>
                      <p class="text-xs text-neutral-500">Empoderamos a tu personal.</p>
                    </div>
                  </div>
                  <div class="flex items-start gap-4">
                    <div
                      class="w-10 h-10 rounded-lg bg-emerald-500/10 flex items-center justify-center flex-shrink-0 text-emerald-500">
                      <iconify-icon icon="ph:shield-check-duotone" width="24"></iconify-icon>
                    </div>
                    <div>
                      <h4 class="text-white text-sm font-medium mb-1">Ética y Seguridad</h4>
                      <p class="text-xs text-neutral-500">Privacidad desde el diseño.</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </a>

          <!-- Right Column (Span 5) -->
          <div class="col-span-1 lg:col-span-5 flex flex-col gap-6">

            <!-- Pillar 2: Sistemas -->
            <a href="servicios/desarrollo-agentes-ia/index.html"
              class="flex-1 group relative rounded-3xl overflow-hidden border border-white/10 bg-white/[0.02] hover:border-purple-500/30 transition-all duration-500 p-8 flex flex-col">
              <div
                class="absolute right-0 top-0 w-64 h-64 bg-purple-500/10 blur-[80px] rounded-full pointer-events-none translate-x-1/2 -translate-y-1/2 transition-opacity group-hover:opacity-70 opacity-40">
              </div>

              <div class="relative z-10 flex flex-col h-full">
                <div class="flex justify-between items-start mb-6">
                  <div
                    class="w-12 h-12 rounded-xl bg-purple-500/10 border border-purple-500/20 flex items-center justify-center text-purple-400 group-hover:scale-110 transition-transform duration-300">
                    <iconify-icon icon="ph:cpu-duotone" width="24"></iconify-icon>
                  </div>
                  <div
                    class="px-2 py-1 rounded border border-white/5 bg-white/5 text-[10px] font-mono text-neutral-400 uppercase">
                    Backend & Cloud</div>
                </div>

                <h3 class="text-2xl text-white font-medium mb-3 group-hover:text-purple-300 transition-colors">Sistemas
                  Inteligentes</h3>
                <p class="text-sm text-neutral-400 leading-relaxed mb-8 flex-grow">
                  Si la consultoría detecta la necesidad, construimos la solución. Arquitecturas robustas que conectan
                  tus datos con la potencia de los LLMs.
                </p>

                <!-- Tech Tags -->
                <div class="flex flex-wrap gap-2 mt-auto">
                  <span
                    class="px-3 py-1 rounded-md bg-purple-500/10 border border-purple-500/20 text-xs text-purple-300">Python</span>
                  <span
                    class="px-3 py-1 rounded-md bg-purple-500/10 border border-purple-500/20 text-xs text-purple-300">LangChain</span>
                  <span
                    class="px-3 py-1 rounded-md bg-purple-500/10 border border-purple-500/20 text-xs text-purple-300">Bases
                    Vectoriales</span>
                </div>
              </div>
            </a>

            <!-- Pillar 3: Apps -->
            <a href="servicios/apps-inteligentes/index.html"
              class="flex-1 group relative rounded-3xl overflow-hidden border border-white/10 bg-white/[0.02] hover:border-blue-500/30 transition-all duration-500 p-8 flex flex-col">
              <div
                class="absolute right-0 bottom-0 w-64 h-64 bg-blue-500/10 blur-[80px] rounded-full pointer-events-none translate-x-1/2 translate-y-1/2 transition-opacity group-hover:opacity-70 opacity-40">
              </div>

              <div class="relative z-10 flex flex-col h-full">
                <div class="flex justify-between items-start mb-6">
                  <div
                    class="w-12 h-12 rounded-xl bg-blue-500/10 border border-blue-500/20 flex items-center justify-center text-blue-400 group-hover:scale-110 transition-transform duration-300">
                    <iconify-icon icon="ph:device-mobile-duotone" width="24"></iconify-icon>
                  </div>
                  <div
                    class="px-2 py-1 rounded border border-white/5 bg-white/5 text-[10px] font-mono text-neutral-400 uppercase">
                    Mobile & Web</div>
                </div>

                <h3 class="text-2xl text-white font-medium mb-3 group-hover:text-blue-300 transition-colors">Apps
                  Nativas & SaaS</h3>
                <p class="text-sm text-neutral-400 leading-relaxed mb-8 flex-grow">
                  Experiencia probada desplegando en App Store y Google Play. Llevamos funcionalidades de IA
                  directamente al bolsillo de tus usuarios.
                </p>

                <!-- Badges -->
                <div class="flex items-center gap-3 mt-auto">
                  <div class="flex -space-x-2">
                    <div
                      class="w-8 h-8 rounded-full bg-[#1C1C1E] flex items-center justify-center border border-white/10"
                      title="iOS">
                      <iconify-icon icon="simple-icons:apple" class="text-white text-xs"></iconify-icon>
                    </div>
                    <div
                      class="w-8 h-8 rounded-full bg-[#3DDC84] flex items-center justify-center border border-white/10"
                      title="Android">
                      <iconify-icon icon="simple-icons:android" class="text-black text-xs"></iconify-icon>
                    </div>
                  </div>
                  <span class="text-xs text-neutral-500 font-mono border-l border-white/10 pl-3">2+ Apps
                    Publicadas</span>
                </div>
              </div>
            </a>

          </div>

        </div>
      </div>
    </section>

    <!-- Enhanced Process Section -->
    <section class="border-b border-white/5 bg-black py-32 relative overflow-hidden">
      <!-- Background Elements -->
      <div
        class="absolute inset-0 bg-[radial-gradient(circle_at_center,rgba(255,255,255,0.03)_1px,transparent_1px)] bg-[size:24px_24px] opacity-20 pointer-events-none">
      </div>
      <div
        class="absolute left-0 top-1/2 -translate-y-1/2 w-[500px] h-[500px] bg-emerald-500/5 blur-[100px] rounded-full pointer-events-none">
      </div>

      <div class="max-w-[1400px] mx-auto px-6 relative z-10">
        <div class="flex flex-col md:flex-row justify-between items-end mb-24">
          <div>
            <div class="text-[10px] font-mono text-emerald-500 uppercase mb-4 tracking-widest">
              02 — METODOLOGÍA
            </div>
            <h2 class="text-4xl md:text-5xl font-medium tracking-tight text-white leading-tight">
              De la Auditoría <br> <span class="text-neutral-500">al Escalamiento.</span>
            </h2>
          </div>
          <p class="text-neutral-400 max-w-sm text-sm text-right mt-6 md:mt-0">
            Un proceso iterativo y transparente. Sin cajas negras.
            Sabes qué ocurre en cada sprint.
          </p>
        </div>

        <!-- Interactive Methodology Component -->
        <div class="flex flex-col lg:flex-row gap-12 items-start relative z-10" id="methodology-component">

          <!-- Left: Interactive Timeline Nav -->
          <div class="w-full lg:w-1/2 flex flex-col gap-6 relative">
            <!-- Connecting Line Background -->
            <div
              class="absolute left-[29px] top-10 bottom-10 w-px bg-gradient-to-b from-transparent via-white/10 to-transparent z-0 hidden md:block">
            </div>

            <!-- Tabs Container -->
            <div class="flex flex-col gap-4" id="method-tabs">
              <!-- Tabs will be rendered / controlled by JS, but we place structure here for SEO/Fallback -->
              <!-- Step 1 -->
              <button
                class="method-tab group relative flex items-start gap-6 p-6 rounded-2xl border border-white/5 bg-white/[0.02] hover:bg-white/[0.05] transition-all text-left w-full cursor-pointer overflow-hidden"
                data-step="0">
                <div
                  class="absolute left-0 top-0 bottom-0 w-1 bg-emerald-500 opacity-0 transition-opacity duration-300 active-bar">
                </div>
                <div
                  class="relative z-10 w-10 h-10 rounded-full bg-black border border-white/10 flex-shrink-0 flex items-center justify-center font-mono text-sm text-neutral-500 group-hover:text-emerald-400 group-hover:border-emerald-500/50 transition-colors shadow-[0_0_15px_rgba(0,0,0,0.5)] active-circle">
                  01
                </div>
                <div class="flex-grow pt-1">
                  <h3 class="text-xl text-white font-medium mb-2 group-hover:text-emerald-300 transition-colors">
                    Discovery & Auditoría</h3>
                  <p
                    class="text-sm text-neutral-400 leading-relaxed h-0 opacity-0 group-[.active]:h-auto group-[.active]:opacity-100 transition-all duration-500 overflow-hidden">
                    Analizamos tus flujos de trabajo actuales. Identificamos cuellos de botella y cuantificamos el
                    retorno de inversión (ROI) antes de escribir una sola línea de código.
                  </p>
                </div>
              </button>

              <!-- Step 2 -->
              <button
                class="method-tab group relative flex items-start gap-6 p-6 rounded-2xl border border-white/5 bg-white/[0.02] hover:bg-white/[0.05] transition-all text-left w-full cursor-pointer overflow-hidden"
                data-step="1">
                <div
                  class="absolute left-0 top-0 bottom-0 w-1 bg-purple-500 opacity-0 transition-opacity duration-300 active-bar">
                </div>
                <div
                  class="relative z-10 w-10 h-10 rounded-full bg-black border border-white/10 flex-shrink-0 flex items-center justify-center font-mono text-sm text-neutral-500 group-hover:text-purple-400 group-hover:border-purple-500/50 transition-colors shadow-[0_0_15px_rgba(0,0,0,0.5)] active-circle">
                  02
                </div>
                <div class="flex-grow pt-1">
                  <h3 class="text-xl text-white font-medium mb-2 group-hover:text-purple-300 transition-colors">
                    Estrategia & Diseño</h3>
                  <p
                    class="text-sm text-neutral-400 leading-relaxed h-0 opacity-0 group-[.active]:h-auto group-[.active]:opacity-100 transition-all duration-500 overflow-hidden">
                    Seleccionamos los modelos de IA (OpenAI, Anthropic, LLaMA) y la arquitectura cloud ideal. Diseñamos
                    sistemas escalables y seguros.
                  </p>
                </div>
              </button>

              <!-- Step 3 -->
              <button
                class="method-tab group relative flex items-start gap-6 p-6 rounded-2xl border border-white/5 bg-white/[0.02] hover:bg-white/[0.05] transition-all text-left w-full cursor-pointer overflow-hidden"
                data-step="2">
                <div
                  class="absolute left-0 top-0 bottom-0 w-1 bg-blue-500 opacity-0 transition-opacity duration-300 active-bar">
                </div>
                <div
                  class="relative z-10 w-10 h-10 rounded-full bg-black border border-white/10 flex-shrink-0 flex items-center justify-center font-mono text-sm text-neutral-500 group-hover:text-blue-400 group-hover:border-blue-500/50 transition-colors shadow-[0_0_15px_rgba(0,0,0,0.5)] active-circle">
                  03
                </div>
                <div class="flex-grow pt-1">
                  <h3 class="text-xl text-white font-medium mb-2 group-hover:text-blue-300 transition-colors">Desarrollo
                    Ágil</h3>
                  <p
                    class="text-sm text-neutral-400 leading-relaxed h-0 opacity-0 group-[.active]:h-auto group-[.active]:opacity-100 transition-all duration-500 overflow-hidden">
                    Construcción por sprints de 2 semanas. Tendrás acceso temprano a versiones funcionales para validar
                    resultados en tiempo real.
                  </p>
                </div>
              </button>

              <!-- Step 4 -->
              <button
                class="method-tab group relative flex items-start gap-6 p-6 rounded-2xl border border-white/5 bg-white/[0.02] hover:bg-white/[0.05] transition-all text-left w-full cursor-pointer overflow-hidden"
                data-step="3">
                <div
                  class="absolute left-0 top-0 bottom-0 w-1 bg-amber-500 opacity-0 transition-opacity duration-300 active-bar">
                </div>
                <div
                  class="relative z-10 w-10 h-10 rounded-full bg-black border border-white/10 flex-shrink-0 flex items-center justify-center font-mono text-sm text-neutral-500 group-hover:text-amber-400 group-hover:border-amber-500/50 transition-colors shadow-[0_0_15px_rgba(0,0,0,0.5)] active-circle">
                  04
                </div>
                <div class="flex-grow pt-1">
                  <h3 class="text-xl text-white font-medium mb-2 group-hover:text-amber-300 transition-colors">Entrega &
                    Escala</h3>
                  <p
                    class="text-sm text-neutral-400 leading-relaxed h-0 opacity-0 group-[.active]:h-auto group-[.active]:opacity-100 transition-all duration-500 overflow-hidden">
                    Despliegue a producción sin fricción. Formamos a tu equipo y proporcionamos mantenimiento y
                    monitorización continua.
                  </p>
                </div>
              </button>
            </div>
          </div>

          <!-- Right: Dynamic Visual Display -->
          <div class="w-full lg:w-1/2 relative h-[450px]">
            <div
              class="absolute inset-0 bg-white/[0.02] border border-white/10 rounded-3xl overflow-hidden shadow-2xl backdrop-blur-sm"
              id="method-display-container">
              <!-- Background Effects -->
              <div
                class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[300px] h-[300px] bg-emerald-500/20 blur-[100px] rounded-full transition-colors duration-700"
                id="method-glow"></div>

              <!-- Dynamic Content Container -->
              <div class="relative z-10 w-full h-full flex flex-col items-center justify-center p-12 text-center"
                id="method-content">
                <!-- Icon Circle -->
                <div
                  class="w-24 h-24 rounded-3xl bg-black border border-white/10 flex items-center justify-center mb-8 shadow-[inset_0_0_20px_rgba(255,255,255,0.05)] transition-all duration-500"
                  id="method-icon-container">
                  <iconify-icon icon="ph:magnifying-glass-duotone" width="48"
                    class="text-emerald-400 transition-all duration-300" id="method-icon"></iconify-icon>
                </div>

                <h4 class="text-2xl text-white font-medium mb-4" id="method-title">Auditoría 360°</h4>
                <div class="space-y-3 w-full max-w-sm" id="method-list">
                  <!-- List items injected by JS -->
                  <div class="flex items-center gap-3 text-sm text-neutral-400">
                    <iconify-icon icon="ph:check-circle" class="text-emerald-500"></iconify-icon> Análisis de
                    Infraestructura
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>


    <!-- NEW: The "Wall" Section -->
    <section id="casos" class="relative bg-black border-b border-white/5 overflow-hidden">
      <!-- Background Ambient Glow -->
      <div
        class="absolute right-0 top-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-indigo-900/20 blur-[120px] rounded-full pointer-events-none z-0">
      </div>

      <div class="max-w-[1400px] mx-auto relative z-10 flex flex-col md:flex-row min-h-[900px]">

        <!-- Left: Typography Content -->
        <div
          class="w-full md:w-[40%] px-6 py-20 md:py-32 flex flex-col justify-center relative z-20 bg-gradient-to-r from-black via-black to-transparent">
          <div
            class="inline-flex items-center gap-2 px-3 py-1 mb-6 border border-white/10 rounded-full bg-white/5 self-start">
            <div class="w-1.5 h-1.5 bg-indigo-400 rounded-full animate-pulse"></div>
            <span class="text-[10px] font-mono text-indigo-300 uppercase tracking-widest">
              Tecnología
            </span>
          </div>

          <h2 class="text-5xl md:text-7xl font-medium tracking-tighter text-white mb-8 leading-[0.9]">
            Nuestra
            <br>
            <span class="text-transparent bg-clip-text bg-gradient-to-br from-white via-neutral-200 to-neutral-500">
              Tecnología.
            </span>
          </h2>

          <div class="space-y-8 max-w-sm">
            <p class="text-neutral-400 text-lg font-light leading-relaxed">
              No solo implementamos IA; diseñamos ecosistemas digitales inteligentes. Un stack tecnológico seleccionado
              para garantizar escalabilidad y resultados.
            </p>

            <div class="flex flex-col gap-4">
              <div class="flex items-center gap-4 group cursor-pointer">
                <div
                  class="w-10 h-10 rounded border border-white/10 bg-white/5 flex items-center justify-center group-hover:bg-white/10 group-hover:border-white/20 transition-all">
                  <iconify-icon icon="ph:cube-transparent"
                    class="text-neutral-400 group-hover:text-white transition-colors"></iconify-icon>
                </div>
                <div>
                  <div class="text-white text-sm font-medium">Modelos Avanzados</div>
                  <div class="text-[10px] text-neutral-500 font-mono uppercase">OpenAI / Anthropic / Meta</div>
                </div>
              </div>
              <div class="flex items-center gap-4 group cursor-pointer">
                <div
                  class="w-10 h-10 rounded border border-white/10 bg-white/5 flex items-center justify-center group-hover:bg-white/10 group-hover:border-white/20 transition-all">
                  <iconify-icon icon="ph:database"
                    class="text-neutral-400 group-hover:text-white transition-colors"></iconify-icon>
                </div>
                <div>
                  <div class="text-white text-sm font-medium">Infraestructura de Datos</div>
                  <div class="text-[10px] text-neutral-500 font-mono uppercase">Pinecone / Postgres / Redis</div>
                </div>
              </div>
              <div class="flex items-center gap-4 group cursor-pointer">
                <div
                  class="w-10 h-10 rounded border border-white/10 bg-white/5 flex items-center justify-center group-hover:bg-white/10 group-hover:border-white/20 transition-all">
                  <iconify-icon icon="ph:rocket-launch"
                    class="text-neutral-400 group-hover:text-white transition-colors"></iconify-icon>
                </div>
                <div>
                  <div class="text-white text-sm font-medium">Despliegue Global</div>
                  <div class="text-[10px] text-neutral-500 font-mono uppercase">Vercel / Cloudflare</div>
                </div>
              </div>
            </div>


          </div>
        </div>

        <!-- Right: The Infinite 3D Wall (Graphic) -->
        <div
          class="absolute right-[-10%] md:right-[-5%] top-[-10%] bottom-[-10%] w-[120%] md:w-[70%] wall-container overflow-hidden pointer-events-none md:pointer-events-auto">
          <div class="wall-grid h-full w-full flex gap-6 px-10">

            <!-- Column 1 (Scroll Up) -->
            <div class="wall-column wall-column-up flex flex-col gap-6 w-full">
              <!-- Duplicated items for infinite loop -->
              <div class="wall-card rounded-xl p-6 aspect-[4/3] flex flex-col justify-between">
                <div class="flex justify-between items-start">
                  <iconify-icon icon="simple-icons:nextdotjs" width="32" class="text-white"></iconify-icon>
                  <div class="w-1.5 h-1.5 rounded-full bg-emerald-500 shadow-[0_0_10px_#10b981]"></div>
                </div>
                <div>
                  <div class="text-sm font-mono text-white/80">Next.js</div>
                  <div class="text-[9px] font-mono text-neutral-500">v14.0.0 (App Rtr)</div>
                </div>
              </div>
              <div class="wall-card rounded-xl p-6 aspect-[4/3] flex flex-col justify-between">
                <div class="flex justify-between items-start">
                  <iconify-icon icon="simple-icons:react" width="32" class="text-[#61DAFB]"></iconify-icon>
                  <div class="w-1.5 h-1.5 rounded-full bg-emerald-500 shadow-[0_0_10px_#10b981]"></div>
                </div>
                <div>
                  <div class="text-sm font-mono text-white/80">React</div>
                  <div class="text-[9px] font-mono text-neutral-500">Library</div>
                </div>
              </div>
              <div class="wall-card rounded-xl p-6 aspect-[4/3] flex flex-col justify-between">
                <div class="flex justify-between items-start">
                  <iconify-icon icon="simple-icons:stripe" width="32" class="text-[#635BFF]"></iconify-icon>
                  <div class="w-1.5 h-1.5 rounded-full bg-emerald-500 shadow-[0_0_10px_#10b981]"></div>
                </div>
                <div>
                  <div class="text-sm font-mono text-white/80">Stripe</div>
                  <div class="text-[9px] font-mono text-neutral-500">Payments</div>
                </div>
              </div>
              <div class="wall-card rounded-xl p-6 aspect-[4/3] flex flex-col justify-between">
                <div class="flex justify-between items-start">
                  <iconify-icon icon="simple-icons:supabase" width="32" class="text-[#3ECF8E]"></iconify-icon>
                  <div class="w-1.5 h-1.5 rounded-full bg-emerald-500 shadow-[0_0_10px_#10b981]"></div>
                </div>
                <div>
                  <div class="text-sm font-mono text-white/80">Supabase</div>
                  <div class="text-[9px] font-mono text-neutral-500">Database</div>
                </div>
              </div>
              <!-- Clones for loop -->
              <div class="wall-card rounded-xl p-6 aspect-[4/3] flex flex-col justify-between">
                <div class="flex justify-between items-start">
                  <iconify-icon icon="simple-icons:nextdotjs" width="32" class="text-white"></iconify-icon>
                  <div class="w-1.5 h-1.5 rounded-full bg-emerald-500 shadow-[0_0_10px_#10b981]"></div>
                </div>
                <div>
                  <div class="text-sm font-mono text-white/80">Next.js</div>
                  <div class="text-[9px] font-mono text-neutral-500">v14.0.0</div>
                </div>
              </div>
              <div class="wall-card rounded-xl p-6 aspect-[4/3] flex flex-col justify-between">
                <div class="flex justify-between items-start">
                  <iconify-icon icon="simple-icons:react" width="32" class="text-[#61DAFB]"></iconify-icon>
                  <div class="w-1.5 h-1.5 rounded-full bg-emerald-500 shadow-[0_0_10px_#10b981]"></div>
                </div>
                <div>
                  <div class="text-sm font-mono text-white/80">React</div>
                  <div class="text-[9px] font-mono text-neutral-500">Library</div>
                </div>
              </div>
              <div class="wall-card rounded-xl p-6 aspect-[4/3] flex flex-col justify-between">
                <div class="flex justify-between items-start">
                  <iconify-icon icon="simple-icons:stripe" width="32" class="text-[#635BFF]"></iconify-icon>
                  <div class="w-1.5 h-1.5 rounded-full bg-emerald-500 shadow-[0_0_10px_#10b981]"></div>
                </div>
                <div>
                  <div class="text-sm font-mono text-white/80">Stripe</div>
                  <div class="text-[9px] font-mono text-neutral-500">Payments</div>
                </div>
              </div>
              <div class="wall-card rounded-xl p-6 aspect-[4/3] flex flex-col justify-between">
                <div class="flex justify-between items-start">
                  <iconify-icon icon="simple-icons:supabase" width="32" class="text-[#3ECF8E]"></iconify-icon>
                  <div class="w-1.5 h-1.5 rounded-full bg-emerald-500 shadow-[0_0_10px_#10b981]"></div>
                </div>
                <div>
                  <div class="text-sm font-mono text-white/80">Supabase</div>
                  <div class="text-[9px] font-mono text-neutral-500">Database</div>
                </div>
              </div>
            </div>

            <!-- Column 2 (Scroll Down) -->
            <div class="wall-column wall-column-down flex flex-col gap-6 w-full pt-12">
              <div class="wall-card rounded-xl p-6 aspect-[4/3] flex flex-col justify-between">
                <div class="flex justify-between items-start">
                  <iconify-icon icon="simple-icons:vercel" width="32" class="text-white"></iconify-icon>
                  <div class="w-1.5 h-1.5 rounded-full bg-emerald-500 shadow-[0_0_10px_#10b981]"></div>
                </div>
                <div>
                  <div class="text-sm font-mono text-white/80">Vercel</div>
                  <div class="text-[9px] font-mono text-neutral-500">Deployment</div>
                </div>
              </div>
              <div class="wall-card rounded-xl p-6 aspect-[4/3] flex flex-col justify-between">
                <div class="flex justify-between items-start">
                  <iconify-icon icon="simple-icons:linear" width="32" class="text-[#5E6AD2]"></iconify-icon>
                  <div class="w-1.5 h-1.5 rounded-full bg-emerald-500 shadow-[0_0_10px_#10b981]"></div>
                </div>
                <div>
                  <div class="text-sm font-mono text-white/80">Linear</div>
                  <div class="text-[9px] font-mono text-neutral-500">Management</div>
                </div>
              </div>
              <div class="wall-card rounded-xl p-6 aspect-[4/3] flex flex-col justify-between">
                <div class="flex justify-between items-start">
                  <iconify-icon icon="simple-icons:tailwindcss" width="32" class="text-[#06B6D4]"></iconify-icon>
                  <div class="w-1.5 h-1.5 rounded-full bg-emerald-500 shadow-[0_0_10px_#10b981]"></div>
                </div>
                <div>
                  <div class="text-sm font-mono text-white/80">Tailwind</div>
                  <div class="text-[9px] font-mono text-neutral-500">Styling</div>
                </div>
              </div>
              <div class="wall-card rounded-xl p-6 aspect-[4/3] flex flex-col justify-between">
                <div class="flex justify-between items-start">
                  <iconify-icon icon="simple-icons:openai" width="32" class="text-white"></iconify-icon>
                  <div class="w-1.5 h-1.5 rounded-full bg-emerald-500 shadow-[0_0_10px_#10b981]"></div>
                </div>
                <div>
                  <div class="text-sm font-mono text-white/80">OpenAI</div>
                  <div class="text-[9px] font-mono text-neutral-500">Intelligence</div>
                </div>
              </div>
              <!-- Clones -->
              <div class="wall-card rounded-xl p-6 aspect-[4/3] flex flex-col justify-between">
                <div class="flex justify-between items-start">
                  <iconify-icon icon="simple-icons:vercel" width="32" class="text-white"></iconify-icon>
                  <div class="w-1.5 h-1.5 rounded-full bg-emerald-500 shadow-[0_0_10px_#10b981]"></div>
                </div>
                <div>
                  <div class="text-sm font-mono text-white/80">Vercel</div>
                  <div class="text-[9px] font-mono text-neutral-500">Deployment</div>
                </div>
              </div>
              <div class="wall-card rounded-xl p-6 aspect-[4/3] flex flex-col justify-between">
                <div class="flex justify-between items-start">
                  <iconify-icon icon="simple-icons:linear" width="32" class="text-[#5E6AD2]"></iconify-icon>
                  <div class="w-1.5 h-1.5 rounded-full bg-emerald-500 shadow-[0_0_10px_#10b981]"></div>
                </div>
                <div>
                  <div class="text-sm font-mono text-white/80">Linear</div>
                  <div class="text-[9px] font-mono text-neutral-500">Management</div>
                </div>
              </div>
              <div class="wall-card rounded-xl p-6 aspect-[4/3] flex flex-col justify-between">
                <div class="flex justify-between items-start">
                  <iconify-icon icon="simple-icons:tailwindcss" width="32" class="text-[#06B6D4]"></iconify-icon>
                  <div class="w-1.5 h-1.5 rounded-full bg-emerald-500 shadow-[0_0_10px_#10b981]"></div>
                </div>
                <div>
                  <div class="text-sm font-mono text-white/80">Tailwind</div>
                  <div class="text-[9px] font-mono text-neutral-500">Styling</div>
                </div>
              </div>
              <div class="wall-card rounded-xl p-6 aspect-[4/3] flex flex-col justify-between">
                <div class="flex justify-between items-start">
                  <iconify-icon icon="simple-icons:openai" width="32" class="text-white"></iconify-icon>
                  <div class="w-1.5 h-1.5 rounded-full bg-emerald-500 shadow-[0_0_10px_#10b981]"></div>
                </div>
                <div>
                  <div class="text-sm font-mono text-white/80">OpenAI</div>
                  <div class="text-[9px] font-mono text-neutral-500">Intelligence</div>
                </div>
              </div>
            </div>

            <!-- Column 3 (Scroll Up) -->
            <div class="wall-column wall-column-up flex flex-col gap-6 w-full pt-24 hidden lg:flex">
              <div class="wall-card rounded-xl p-6 aspect-[4/3] flex flex-col justify-between">
                <div class="flex justify-between items-start">
                  <iconify-icon icon="simple-icons:github" width="32" class="text-white"></iconify-icon>
                  <div class="w-1.5 h-1.5 rounded-full bg-emerald-500 shadow-[0_0_10px_#10b981]"></div>
                </div>
                <div>
                  <div class="text-sm font-mono text-white/80">GitHub</div>
                  <div class="text-[9px] font-mono text-neutral-500">VCS</div>
                </div>
              </div>
              <div class="wall-card rounded-xl p-6 aspect-[4/3] flex flex-col justify-between">
                <div class="flex justify-between items-start">
                  <iconify-icon icon="simple-icons:figma" width="32" class="text-[#F24E1E]"></iconify-icon>
                  <div class="w-1.5 h-1.5 rounded-full bg-emerald-500 shadow-[0_0_10px_#10b981]"></div>
                </div>
                <div>
                  <div class="text-sm font-mono text-white/80">Figma</div>
                  <div class="text-[9px] font-mono text-neutral-500">Design</div>
                </div>
              </div>
              <div class="wall-card rounded-xl p-6 aspect-[4/3] flex flex-col justify-between">
                <div class="flex justify-between items-start">
                  <iconify-icon icon="simple-icons:notion" width="32" class="text-white"></iconify-icon>
                  <div class="w-1.5 h-1.5 rounded-full bg-emerald-500 shadow-[0_0_10px_#10b981]"></div>
                </div>
                <div>
                  <div class="text-sm font-mono text-white/80">Notion</div>
                  <div class="text-[9px] font-mono text-neutral-500">Wiki</div>
                </div>
              </div>
              <!-- Clones -->
              <div class="wall-card rounded-xl p-6 aspect-[4/3] flex flex-col justify-between">
                <div class="flex justify-between items-start">
                  <iconify-icon icon="simple-icons:github" width="32" class="text-white"></iconify-icon>
                  <div class="w-1.5 h-1.5 rounded-full bg-emerald-500 shadow-[0_0_10px_#10b981]"></div>
                </div>
                <div>
                  <div class="text-sm font-mono text-white/80">GitHub</div>
                  <div class="text-[9px] font-mono text-neutral-500">VCS</div>
                </div>
              </div>
              <div class="wall-card rounded-xl p-6 aspect-[4/3] flex flex-col justify-between">
                <div class="flex justify-between items-start">
                  <iconify-icon icon="simple-icons:figma" width="32" class="text-[#F24E1E]"></iconify-icon>
                  <div class="w-1.5 h-1.5 rounded-full bg-emerald-500 shadow-[0_0_10px_#10b981]"></div>
                </div>
                <div>
                  <div class="text-sm font-mono text-white/80">Figma</div>
                  <div class="text-[9px] font-mono text-neutral-500">Design</div>
                </div>
              </div>
              <div class="wall-card rounded-xl p-6 aspect-[4/3] flex flex-col justify-between">
                <div class="flex justify-between items-start">
                  <iconify-icon icon="simple-icons:notion" width="32" class="text-white"></iconify-icon>
                  <div class="w-1.5 h-1.5 rounded-full bg-emerald-500 shadow-[0_0_10px_#10b981]"></div>
                </div>
                <div>
                  <div class="text-sm font-mono text-white/80">Notion</div>
                  <div class="text-[9px] font-mono text-neutral-500">Wiki</div>
                </div>
              </div>
            </div>

          </div>

          <!-- Heavy Masking on the Wall to Blend it -->
          <div
            class="absolute inset-0 bg-gradient-to-r from-black via-transparent to-transparent z-10 pointer-events-none">
          </div>
          <div
            class="absolute inset-0 bg-gradient-to-b from-black via-transparent to-black z-10 pointer-events-none opacity-50">
          </div>
        </div>
      </div>
    </section>



    <!-- Initialize Project Section (Spanish) -->
    <!-- Initialize Project Section (Spanish) -->
    <section id="diagnostico"
      class="min-h-screen flex flex-col justify-center py-32 relative bg-black border-t border-b border-white/5 overflow-hidden scroll-mt-20">
      <!-- Center Glow -->
      <div
        class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[600px] bg-purple-900/10 blur-[120px] rounded-full pointer-events-none">
      </div>

      <div class="max-w-4xl mx-auto px-6 relative z-10 text-center">
        <!-- Capacity Pill -->
        <div
          class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full border border-purple-500/30 bg-purple-900/10 backdrop-blur-md mb-12 shadow-[0_0_20px_rgba(168,85,247,0.1)]">
          <span class="w-1.5 h-1.5 bg-purple-400 rounded-full animate-pulse"></span>
          <span class="text-[10px] font-mono text-purple-300 uppercase tracking-widest">Disponibilidad Limitada: Q1
            2026</span>
        </div>

        <h2 class="text-5xl md:text-7xl font-medium tracking-tighter text-white leading-[0.95] mb-8">
          ¿Listo para <br>
          <span class="text-transparent bg-clip-text bg-gradient-to-b from-white to-white/60">transformar tu
            negocio?</span>
        </h2>

        <p class="text-neutral-400 text-lg font-light max-w-xl mx-auto mb-12 leading-relaxed">
          Asegura tu ventana de producción. Buscamos empresas ambiciosas listas para integrar inteligencia real en sus
          operaciones.
        </p>

        <button onclick="openModal()"
          class="group relative px-8 py-4 bg-white text-black rounded-full overflow-hidden transition-all hover:scale-105 hover:shadow-[0_0_40px_rgba(255,255,255,0.3)]">
          <span class="relative z-10 text-xs font-bold uppercase tracking-[0.2em] flex items-center gap-3">
            Iniciar Diagnóstico
            <iconify-icon icon="ph:arrow-right-bold"></iconify-icon>
          </span>
        </button>

        <div class="mt-8 text-[10px] font-mono text-neutral-600 uppercase tracking-widest">
          Sin compromiso <span class="mx-2">•</span> Respuesta en 24h
        </div>
      </div>
    </section>

    <!-- Full Screen Form Modal -->
    <div id="modal-backdrop"
      class="fixed inset-0 z-[100] bg-black/95 backdrop-blur-2xl hidden opacity-0 transition-opacity duration-500 flex items-center justify-center p-4">

      <!-- Close Button REMOVED as per user request -->

      <div class="w-full max-w-2xl relative z-[150]" id="modal-content"> <!-- Added ID for click detection -->

        <div
          class="relative z-10 bg-neutral-900/50 border border-white/10 rounded-2xl p-8 md:p-12 overflow-hidden flex flex-col min-h-[500px]">

          <!-- Progress Bar (Bottom) -->
          <div class="absolute bottom-0 left-0 w-full h-1.5 bg-white/5 z-20">
            <div id="wizard-progress"
              class="h-full bg-gradient-to-r from-purple-500 to-indigo-500 w-1/3 transition-all duration-500 ease-out">
            </div>
          </div>

          <div class="mb-8 text-center">
            <h3 class="text-2xl md:text-3xl text-white font-medium mb-2">Diagnóstico de Viabilidad IA</h3>
            <p class="text-neutral-400 text-sm">Paso <span id="step-count">1</span> de 4</p>
          </div>

          <form id="wizard-form" class="flex-grow grid grid-cols-1 grid-rows-1 relative"
            onsubmit="event.preventDefault(); submitForm();">

            <!-- Step 1: Objetivo -->
            <div class="wizard-step col-start-1 row-start-1 w-full flex flex-col transition-all duration-500 ease-out"
              data-step="1">
              <label
                class="text-sm font-mono text-purple-400 uppercase tracking-widest block border-b border-white/5 pb-2 mb-6">
                01. Objetivo del Proyecto
              </label>

              <div class="grid grid-cols-1 md:grid-cols-2 gap-4 flex-grow">
                <label class="cursor-pointer group relative">
                  <input type="radio" name="goal" value="eficiencia" class="peer sr-only" onchange="validateStep(1)">
                  <div
                    class="p-5 rounded-xl border border-white/5 bg-white/[0.02] hover:bg-white/[0.05] peer-checked:border-purple-500 peer-checked:bg-purple-500/10 transition-all h-full flex flex-col items-center text-center justify-center">
                    <iconify-icon icon="ph:chart-line-up" width="32"
                      class="text-neutral-400 mb-3 group-hover:text-white peer-checked:text-purple-400 transition-colors"></iconify-icon>
                    <div class="text-white font-medium mb-1 text-sm">Eficiencia Operativa</div>
                    <div class="text-[10px] text-neutral-500 leading-tight">Reducir costes y tiempos.</div>
                  </div>
                </label>
                <label class="cursor-pointer group relative">
                  <input type="radio" name="goal" value="experiencia" class="peer sr-only" onchange="validateStep(1)">
                  <div
                    class="p-5 rounded-xl border border-white/5 bg-white/[0.02] hover:bg-white/[0.05] peer-checked:border-purple-500 peer-checked:bg-purple-500/10 transition-all h-full flex flex-col items-center text-center justify-center">
                    <iconify-icon icon="ph:users-three" width="32"
                      class="text-neutral-400 mb-3 group-hover:text-white peer-checked:text-purple-400 transition-colors"></iconify-icon>
                    <div class="text-white font-medium mb-1 text-sm">Experiencia Cliente</div>
                    <div class="text-[10px] text-neutral-500 leading-tight">Soporte 24/7 y chatbots.</div>
                  </div>
                </label>
                <label class="cursor-pointer group relative">
                  <input type="radio" name="goal" value="automatizacion" class="peer sr-only"
                    onchange="validateStep(1)">
                  <div
                    class="p-5 rounded-xl border border-white/5 bg-white/[0.02] hover:bg-white/[0.05] peer-checked:border-purple-500 peer-checked:bg-purple-500/10 transition-all h-full flex flex-col items-center text-center justify-center">
                    <iconify-icon icon="ph:robot" width="32"
                      class="text-neutral-400 mb-3 group-hover:text-white peer-checked:text-purple-400 transition-colors"></iconify-icon>
                    <div class="text-white font-medium mb-1 text-sm">Automatización Total</div>
                    <div class="text-[10px] text-neutral-500 leading-tight">Agentes y workflows.</div>
                  </div>
                </label>
                <label class="cursor-pointer group relative">
                  <input type="radio" name="goal" value="producto" class="peer sr-only" onchange="validateStep(1)">
                  <div
                    class="p-5 rounded-xl border border-white/5 bg-white/[0.02] hover:bg-white/[0.05] peer-checked:border-purple-500 peer-checked:bg-purple-500/10 transition-all h-full flex flex-col items-center text-center justify-center">
                    <iconify-icon icon="ph:rocket" width="32"
                      class="text-neutral-400 mb-3 group-hover:text-white peer-checked:text-purple-400 transition-colors"></iconify-icon>
                    <div class="text-white font-medium mb-1 text-sm">Nuevo Producto</div>
                    <div class="text-[10px] text-neutral-500 leading-tight">MVP o plataforma SaaS.</div>
                  </div>
                </label>
                <label class="cursor-pointer group relative">
                  <input type="radio" name="goal" value="consultoria" class="peer sr-only" onchange="validateStep(1)">
                  <div
                    class="p-5 rounded-xl border border-white/5 bg-white/[0.02] hover:bg-white/[0.05] peer-checked:border-purple-500 peer-checked:bg-purple-500/10 transition-all h-full flex flex-col items-center text-center justify-center">
                    <iconify-icon icon="ph:lightbulb" width="32"
                      class="text-neutral-400 mb-3 group-hover:text-white peer-checked:text-purple-400 transition-colors"></iconify-icon>
                    <div class="text-white font-medium mb-1 text-sm">Consultoría</div>
                    <div class="text-[10px] text-neutral-500 leading-tight">No sé cómo aplicar IA.</div>
                  </div>
                </label>
                <label class="cursor-pointer group relative">
                  <input type="radio" name="goal" value="otro" class="peer sr-only" onchange="validateStep(1)">
                  <div
                    class="p-5 rounded-xl border border-white/5 bg-white/[0.02] hover:bg-white/[0.05] peer-checked:border-purple-500 peer-checked:bg-purple-500/10 transition-all h-full flex flex-col items-center text-center justify-center">
                    <iconify-icon icon="ph:dots-three-circle" width="32"
                      class="text-neutral-400 mb-3 group-hover:text-white peer-checked:text-purple-400 transition-colors"></iconify-icon>
                    <div class="text-white font-medium mb-1 text-sm">Otro</div>
                    <div class="text-[10px] text-neutral-500 leading-tight">Casos especiales.</div>
                  </div>
                </label>
              </div>

              <div class="pt-8 flex justify-between items-center">
                <!-- Explicit Exit Button -->
                <button type="button" onclick="closeModal()"
                  class="text-neutral-500 text-xs font-mono uppercase tracking-widest hover:text-white transition-colors py-2 px-4 -ml-4 rounded-lg hover:bg-white/5 flex items-center gap-2">
                  <iconify-icon icon="ph:arrow-left"></iconify-icon> Salir
                </button>

                <button type="button" onclick="nextStep()" id="btn-step-1" disabled
                  class="px-6 py-3 bg-white text-black text-sm font-bold uppercase tracking-widest rounded-full opacity-50 cursor-not-allowed transition-all hover:bg-neutral-200 flex items-center gap-2">
                  Siguiente <iconify-icon icon="ph:arrow-right-bold"></iconify-icon>
                </button>
              </div>
            </div>

            <!-- Step 2: Detalles (Dynamic) -->
            <div
              class="wizard-step col-start-1 row-start-1 w-full flex flex-col hidden opacity-0 translate-x-[20px] transition-all duration-300 ease-out"
              data-step="2">
              <label id="step-2-label"
                class="text-sm font-mono text-purple-400 uppercase tracking-widest block border-b border-white/5 pb-2 mb-6">
                02. Detalle del Alcance
              </label>

              <div class="flex-grow flex flex-col justify-start pt-4 min-h-[300px]" id="step-2-content">
                <!-- Static Blocks for Logic (Hidden by default) -->
                <div id="block-autom"> <!-- FAILSAFE: REMOVED HIDDEN CLASS -->
                  <p class="text-neutral-400 mb-6 text-sm">Para adaptar la automatización, ¿De qué tamaño es el equipo
                    que usará estas herramientas?</p>
                  <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <label class="cursor-pointer">
                      <input type="radio" name="details_autom" value="pequeño" class="peer sr-only"
                        onchange="validateStep(2)">
                      <div
                        class="p-4 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 peer-checked:bg-purple-900/40 peer-checked:border-purple-500 text-center transition-all">
                        <div class="text-white font-medium mb-1">1 - 10</div>
                        <div class="text-xs text-neutral-500">Startup</div>
                      </div>
                    </label>
                    <label class="cursor-pointer">
                      <input type="radio" name="details_autom" value="mediano" class="peer sr-only"
                        onchange="validateStep(2)">
                      <div
                        class="p-4 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 peer-checked:bg-purple-900/40 peer-checked:border-purple-500 text-center transition-all">
                        <div class="text-white font-medium mb-1">11 - 50</div>
                        <div class="text-xs text-neutral-500">Scale-up</div>
                      </div>
                    </label>
                    <label class="cursor-pointer">
                      <input type="radio" name="details_autom" value="grande" class="peer sr-only"
                        onchange="validateStep(2)">
                      <div
                        class="p-4 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 peer-checked:bg-purple-900/40 peer-checked:border-purple-500 text-center transition-all">
                        <div class="text-white font-medium mb-1">50 +</div>
                        <div class="text-xs text-neutral-500">Corporate</div>
                      </div>
                    </label>
                  </div>
                </div>

                <div id="block-exp" class="hidden">
                  <p class="text-neutral-400 mb-6 text-sm">¿Dónde necesitas mejorar la experiencia del cliente?</p>
                  <div class="flex flex-col gap-3">
                    <label
                      class="flex items-center p-4 bg-white/5 border border-white/10 rounded-xl cursor-pointer hover:bg-white/10 transition-all">
                      <input type="checkbox" name="details_exp" class="accent-purple-500 w-5 h-5 mr-4"
                        onchange="validateStep(2)">
                      <span class="text-white text-sm">Email / Tickets de Soporte</span>
                    </label>
                    <label
                      class="flex items-center p-4 bg-white/5 border border-white/10 rounded-xl cursor-pointer hover:bg-white/10 transition-all">
                      <input type="checkbox" name="details_exp" class="accent-purple-500 w-5 h-5 mr-4"
                        onchange="validateStep(2)">
                      <span class="text-white text-sm">WhatsApp / Chat en vivo</span>
                    </label>
                    <label
                      class="flex items-center p-4 bg-white/5 border border-white/10 rounded-xl cursor-pointer hover:bg-white/10 transition-all">
                      <input type="checkbox" name="details_exp" class="accent-purple-500 w-5 h-5 mr-4"
                        onchange="validateStep(2)">
                      <span class="text-white text-sm">Llamadas Telefónicas</span>
                    </label>
                  </div>
                </div>

                <div id="block-prod" class="hidden">
                  <p class="text-neutral-400 mb-6 text-sm">¿En qué fase se encuentra tu idea?</p>
                  <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <label class="cursor-pointer">
                      <input type="radio" name="details_prod" value="idea" class="peer sr-only"
                        onchange="validateStep(2)">
                      <div
                        class="p-4 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 peer-checked:bg-purple-900/40 peer-checked:border-purple-500 text-center transition-all">
                        <div class="text-white font-medium mb-1">Solo Idea</div>
                        <div class="text-xs text-neutral-500">Validación</div>
                      </div>
                    </label>
                    <label class="cursor-pointer">
                      <input type="radio" name="details_prod" value="mvp" class="peer sr-only"
                        onchange="validateStep(2)">
                      <div
                        class="p-4 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 peer-checked:bg-purple-900/40 peer-checked:border-purple-500 text-center transition-all">
                        <div class="text-white font-medium mb-1">MVP / Beta</div>
                        <div class="text-xs text-neutral-500">Lanzamiento</div>
                      </div>
                    </label>
                    <label class="cursor-pointer">
                      <input type="radio" name="details_prod" value="scale" class="peer sr-only"
                        onchange="validateStep(2)">
                      <div
                        class="p-4 rounded-xl border border-white/10 bg-white/5 hover:bg-white/10 peer-checked:bg-purple-900/40 peer-checked:border-purple-500 text-center transition-all">
                        <div class="text-white font-medium mb-1">Escalado</div>
                        <div class="text-xs text-neutral-500">Crecimiento</div>
                      </div>
                    </label>
                  </div>
                </div>

                <div id="block-consult" class="hidden"> <!-- NEW BLOCK -->
                  <p class="text-neutral-400 mb-6 text-sm">¿Qué tipo de asesoría necesitas?</p>
                  <div class="flex flex-col gap-3">
                    <label
                      class="flex items-center p-4 bg-white/5 border border-white/10 rounded-xl cursor-pointer hover:bg-white/10 transition-all">
                      <input type="radio" name="details_consult" value="estrategia"
                        class="accent-purple-500 w-5 h-5 mr-4" onchange="validateStep(2)">
                      <span class="text-white text-sm">Estrategia & Consultoría General</span>
                    </label>
                    <label
                      class="flex items-center p-4 bg-white/5 border border-white/10 rounded-xl cursor-pointer hover:bg-white/10 transition-all">
                      <input type="radio" name="details_consult" value="formacion"
                        class="accent-purple-500 w-5 h-5 mr-4" onchange="validateStep(2)">
                      <span class="text-white text-sm">Formación para Equipos</span>
                    </label>
                    <label
                      class="flex items-center p-4 bg-white/5 border border-white/10 rounded-xl cursor-pointer hover:bg-white/10 transition-all">
                      <input type="radio" name="details_consult" value="auditoria"
                        class="accent-purple-500 w-5 h-5 mr-4" onchange="validateStep(2)">
                      <span class="text-white text-sm">Auditoría Técnica</span>
                    </label>
                  </div>
                </div>

                <div id="block-other" class="hidden"> <!-- NEW BLOCK -->
                  <p class="text-neutral-400 mb-6 text-sm">Cuéntanos brevemente tu caso:</p>
                  <textarea id="details_other"
                    class="w-full bg-white/5 border border-white/10 rounded-xl p-4 text-white text-sm min-h-[120px] focus:outline-none focus:border-purple-500 transition-colors placeholder:text-neutral-600"
                    placeholder="Describe tu necesidad..." oninput="validateStep(2)"></textarea>
                </div>
              </div>

              <div class="pt-8 flex justify-between">
                <button type="button" onclick="prevStep()"
                  class="px-6 py-3 text-neutral-400 text-sm font-bold uppercase tracking-widest hover:text-white transition-colors flex items-center gap-2">
                  <iconify-icon icon="ph:arrow-left-bold"></iconify-icon> Atrás
                </button>
                <button type="button" onclick="nextStep()" id="btn-step-2" disabled
                  class="px-6 py-3 bg-white text-black text-sm font-bold uppercase tracking-widest rounded-full opacity-50 cursor-not-allowed hover:bg-neutral-200 flex items-center gap-2 transition-all">
                  Siguiente <iconify-icon icon="ph:arrow-right-bold"></iconify-icon>
                </button>
              </div>
            </div>

            <!-- Step 3: Contexto -->
            <div
              class="wizard-step col-start-1 row-start-1 w-full flex flex-col hidden opacity-0 translate-x-[20px] transition-all duration-300 ease-out"
              data-step="3">
              <label
                class="text-sm font-mono text-purple-400 uppercase tracking-widest block border-b border-white/5 pb-2 mb-6">
                03. Contexto Actual
              </label>

              <div class="flex-grow">
                <textarea id="context-input"
                  placeholder="Ej: Quiero aplicar inteligencia artificial en mi negocio, pero no sé cómo. Actualmente usamos muchas hojas de cálculo y perdemos tiempo..."
                  class="w-full h-full min-h-[200px] bg-black/50 border border-white/10 rounded-xl p-6 text-base text-white focus:outline-none focus:border-purple-500 focus:ring-1 focus:ring-purple-500 transition-all resize-none font-light leading-relaxed"></textarea>
              </div>

              <div class="pt-8 flex justify-between">
                <button type="button" onclick="prevStep()"
                  class="px-6 py-3 text-neutral-400 text-sm font-bold uppercase tracking-widest hover:text-white transition-colors flex items-center gap-2">
                  <iconify-icon icon="ph:arrow-left-bold"></iconify-icon> Atrás
                </button>
                <button type="button" onclick="nextStep()"
                  class="px-6 py-3 bg-white text-black text-sm font-bold uppercase tracking-widest rounded-full hover:bg-neutral-200 flex items-center gap-2">
                  Siguiente <iconify-icon icon="ph:arrow-right-bold"></iconify-icon>
                </button>
              </div>
            </div>

            <!-- Step 4: Contacto -->
            <div
              class="wizard-step col-start-1 row-start-1 w-full flex flex-col hidden opacity-0 translate-x-[20px] transition-all duration-300 ease-out"
              data-step="4">
              <label
                class="text-sm font-mono text-purple-400 uppercase tracking-widest block border-b border-white/5 pb-2 mb-6">
                04. Datos de Contacto
              </label>

              <div class="space-y-6 flex-grow flex flex-col justify-center">
                <div class="space-y-4">
                  <input type="text" required placeholder="Tu Nombre" id="input-name"
                    class="w-full bg-transparent border-b border-white/10 p-4 text-white text-lg focus:outline-none focus:border-purple-500 transition-colors placeholder:text-neutral-600">
                  <input type="text" placeholder="Empresa / Web" id="input-company"
                    class="w-full bg-transparent border-b border-white/10 p-4 text-white text-lg focus:outline-none focus:border-purple-500 transition-colors placeholder:text-neutral-600">
                  <input type="email" required placeholder="Email Corporativo" id="input-email"
                    class="w-full bg-transparent border-b border-white/10 p-4 text-white text-lg focus:outline-none focus:border-purple-500 transition-colors placeholder:text-neutral-600">
                </div>

                <!-- Privacy Checkbox -->
                <div class="flex items-start gap-4 pt-2">
                  <div class="relative flex items-center">
                    <input type="checkbox" id="privacy-check" required
                      class="peer h-5 w-5 cursor-pointer appearance-none rounded border border-white/20 bg-white/5 checked:border-purple-500 checked:bg-purple-500 transition-all"
                      onchange="validateStep(4)">
                    <iconify-icon icon="ph:check-bold"
                      class="pointer-events-none absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-white opacity-0 transition-opacity peer-checked:opacity-100 text-xs"></iconify-icon>
                  </div>
                  <label for="privacy-check"
                    class="text-xs text-neutral-500 cursor-pointer select-none leading-relaxed">
                    He leído y acepto la <button type="button" onclick="openPolicy('privacy')"
                      class="text-neutral-300 hover:text-white underline underline-offset-2">Política de
                      Privacidad</button>. Entiendo que mis datos se tratarán para gestionar mi solicitud.
                  </label>
                </div>
              </div>

              <div class="pt-8 flex justify-between items-center">
                <button type="button" onclick="prevStep()"
                  class="px-6 py-3 text-neutral-400 text-sm font-bold uppercase tracking-widest hover:text-white transition-colors flex items-center gap-2">
                  <iconify-icon icon="ph:arrow-left-bold"></iconify-icon> Atrás
                </button>
                <button type="submit"
                  class="px-8 py-3 bg-gradient-to-r from-purple-500 to-indigo-600 text-white text-sm font-bold uppercase tracking-widest rounded-full hover:shadow-[0_0_30px_rgba(168,85,247,0.4)] transition-all flex items-center gap-2">
                  Enviar Solicitud <iconify-icon icon="ph:paper-plane-right-bold"></iconify-icon>
                </button>
              </div>
            </div>

          </form>
        </div>

        <!-- Modal Background Glow -->
        <div
          class="absolute inset-0 bg-purple-600/10 blur-[100px] -z-10 rounded-full pointer-events-none transform scale-75">
        </div>
      </div>
    </div>

    <!-- Success Message Overlay -->
    <div id="success-overlay"
      class="fixed inset-0 z-[120] bg-black hidden flex items-center justify-center opacity-0 transition-opacity duration-500">
      <div class="text-center relative z-10 p-6">
        <div
          class="w-24 h-24 rounded-full border border-emerald-500/50 flex items-center justify-center mx-auto mb-8 bg-emerald-900/10 animate-[bounce_1s_infinite]">
          <iconify-icon icon="ph:check-thin" width="48" class="text-emerald-400"></iconify-icon>
        </div>
        <h2 class="text-4xl md:text-5xl text-white font-medium mb-4 tracking-tight">Solicitud Recibida.</h2>
        <p class="text-neutral-400 max-w-md mx-auto mb-10 text-lg font-light">
          Nuestro equipo analizará tu caso.<br>Recibirás respuesta en <span class="text-emerald-400">24 horas</span>.
        </p>
        <button onclick="closeSuccess()"
          class="text-xs font-mono text-white/60 hover:text-white uppercase tracking-widest border-b border-white/20 hover:border-white pb-1 transition-all">
          Volver a la web
        </button>
      </div>
      <!-- Background for success -->
      <div
        class="absolute inset-0 bg-[radial-gradient(circle_at_center,rgba(16,185,129,0.15),transparent_70%)] pointer-events-none">
      </div>
    </div>

    <!-- Cookie Consent Banner -->
    <div id="cookie-banner"
      class="fixed bottom-0 left-0 w-full z-[99999] bg-black/90 backdrop-blur-md border-t border-white/10 p-6 transform translate-y-full transition-transform duration-500 ease-out flex flex-col md:flex-row items-center justify-between gap-6 shadow-[0_-10px_40px_rgba(0,0,0,0.5)]">
      <div class="max-w-3xl">
        <h4 class="text-white font-medium mb-2 flex items-center gap-2">
          <iconify-icon icon="ph:cookie-duotone" class="text-purple-400"></iconify-icon>
          Uso de Cookies
        </h4>
        <p class="text-sm text-neutral-400 leading-relaxed">
          Utilizamos cookies propias y de terceros para mejorar tu experiencia y analizar nuestras visitas. No vendemos
          tus datos.
          Al hacer clic en "Aceptar", consientes el uso de todas las cookies.
          <button onclick="openPolicy('privacy')"
            class="text-purple-400 hover:text-purple-300 underline underline-offset-2">Política de Privacidad</button>.
        </p>
      </div>
      <div class="flex gap-4 flex-shrink-0">
        <button onclick="rejectCookies()"
          class="px-6 py-2.5 rounded-full border border-white/10 text-neutral-400 text-sm hover:text-white hover:bg-white/5 transition-colors">
          Rechazar
        </button>
        <button onclick="acceptCookies()"
          class="px-6 py-2.5 rounded-full bg-white text-black text-sm font-bold hover:bg-neutral-200 transition-colors shadow-[0_0_20px_rgba(255,255,255,0.1)]">
          Aceptar Todo
        </button>
      </div>
    </div>

    <!-- Policy Modal -->
    <div id="policy-modal"
      class="fixed inset-0 z-[9999] bg-black/95 backdrop-blur-xl hidden opacity-0 transition-opacity duration-500 flex items-center justify-center p-4">

      <div
        class="w-full max-w-2xl bg-neutral-900 border border-white/10 rounded-2xl flex flex-col max-h-[85vh] shadow-2xl relative">
        <!-- Header -->
        <div class="p-6 border-b border-white/10 flex justify-between items-center bg-neutral-900 rounded-t-2xl z-20">
          <h3 id="policy-title" class="text-xl text-white font-medium">Política</h3>
          <button onclick="closePolicy()"
            class="text-neutral-400 hover:text-white transition-colors p-2 bg-white/5 rounded-full hover:bg-white/10">
            <iconify-icon icon="ph:x" width="20"></iconify-icon>
          </button>
        </div>

        <!-- Scrollable Content -->
        <div id="policy-body"
          class="p-6 md:p-8 overflow-y-auto text-sm text-neutral-400 leading-relaxed font-light no-scrollbar">
          <!-- Content injected via JS -->
        </div>

        <!-- Bottom Fade -->
        <div
          class="absolute bottom-0 left-0 w-full h-12 bg-gradient-to-t from-neutral-900 to-transparent pointer-events-none rounded-b-2xl">
        </div>
      </div>
    </div>

    <script>
      const modal = document.getElementById('modal-backdrop');
      const modalContent = document.getElementById('modal-content'); // Get content wrapper
      const success = document.getElementById('success-overlay');
      const closeBtn = document.getElementById('modal-close-btn');

      // --- ROBUST EVENT HANDLING FOR CLOSING --- //

      // 1. Click on Close Button (Explicit listener)
      if (closeBtn) {
        closeBtn.addEventListener('click', (e) => {
          e.preventDefault();
          e.stopPropagation();
          closeModal();
        });
      }

      // 2. Click Outside (Backdrop)
      if (modal) {
        modal.addEventListener('click', (e) => {
          // Ensure we are clicking the backdrop, NOT the content
          if (e.target === modal) {
            closeModal();
          }
        });
      }

      // 3. Escape Key (Global Access)
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && !modal.classList.contains('hidden')) {
          closeModal();
        }
      });

      // ------------------------------------------ //

      // --- Wizards Logic ---
      let step = 1;
      const totalSteps = 4;
      let selectedGoal = null; // To store the selected goal from step 1

      function initWizard() {
        updateWizard();
      }

      function openModal() {
        if (modal && modal.classList.contains('hidden')) {
          modal.classList.remove('hidden');
          // Reset state
          step = 1;
          if (document.getElementById('wizard-form')) document.getElementById('wizard-form').reset();

          // Cleaning Step 2 (Reset blocks visibility handled by renderStep2)
          const blockAutom = document.getElementById('block-autom');
          const blockExp = document.getElementById('block-exp');
          const blockProd = document.getElementById('block-prod');
          const blockConsult = document.getElementById('block-consult');
          const blockOther = document.getElementById('block-other');

          if (blockAutom) blockAutom.style.display = 'none';
          if (blockExp) blockExp.style.display = 'none';
          if (blockProd) blockProd.style.display = 'none';
          if (blockConsult) blockConsult.style.display = 'none';
          if (blockOther) blockOther.style.display = 'none';


          // Reset Step 1 button state
          const btn = document.getElementById('btn-step-1');
          if (btn) {
            btn.setAttribute('disabled', 'true');
            btn.classList.add('opacity-50', 'cursor-not-allowed');
            btn.classList.remove('shadow-[0_0_20px_rgba(255,255,255,0.2)]');
          }

          updateWizard();
          // Trigger reflow
          void modal.offsetWidth;
          modal.classList.remove('opacity-0');
          document.body.style.overflow = 'hidden';
        }
      }

      function closeModal() {
        if (modal && !modal.classList.contains('hidden')) {
          modal.classList.add('opacity-0');
          setTimeout(() => {
            modal.classList.add('hidden');
            document.body.style.overflow = '';
          }, 300);
        }
      }

      // Click outside logic
      document.addEventListener('click', (e) => {
        // Modal Backdrop Click
        const modalBackdrop = document.getElementById('modal-backdrop');
        const modalContent = document.getElementById('modal-content');

        if (modalBackdrop && !modalBackdrop.classList.contains('hidden')) {
          if (e.target === modalBackdrop && !modalContent.contains(e.target)) {
            closeModal();
          }
        }
      });
      // ESC key logic
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
          closeModal();
          closePolicy();
          closeSuccess();
        }
      });


      function nextStep() {
        if (step < totalSteps) {
          if (step === 1) {
            renderStep2(); // Prepare step 2 based on selection
            step++;
          } else {
            step++;
          }
          updateWizard();
        }
      }

      function prevStep() {
        if (step > 1) {
          step--;
          updateWizard();
        }
      }

      // Render Step 2 Content Based on Goal
      function renderStep2() {
        const goalInput = document.querySelector('input[name="goal"]:checked');
        let goal = goalInput ? goalInput.value : null;
        selectedGoal = goal;

        const label = document.getElementById('step-2-label');
        const blockAutom = document.getElementById('block-autom');
        const blockExp = document.getElementById('block-exp');
        const blockProd = document.getElementById('block-prod');
        const blockConsult = document.getElementById('block-consult');
        const blockOther = document.getElementById('block-other');

        // Reset all visibility (Force hide)
        if (blockAutom) blockAutom.style.display = 'none';
        if (blockExp) blockExp.style.display = 'none';
        if (blockProd) blockProd.style.display = 'none';
        if (blockConsult) blockConsult.style.display = 'none';
        if (blockOther) blockOther.style.display = 'none';

        if (!goal) {
          // Fallback
          goal = 'eficiencia';
        }

        let title = '02. Detalle del Alcance';

        if (goal === 'eficiencia' || goal === 'automatizacion') {
          title = '02. Volumen de Operaciones';
          if (blockAutom) blockAutom.style.display = 'block';
        } else if (goal === 'experiencia') {
          title = '02. Canales Actuales';
          if (blockExp) blockExp.style.display = 'block';
        } else if (goal === 'producto') {
          title = '02. Estado del Producto';
          if (blockProd) blockProd.style.display = 'block';
        } else if (goal === 'consultoria') {
          title = '02. Tipo de Asesoría';
          if (blockConsult) blockConsult.style.display = 'block';
        } else if (goal === 'otro') {
          title = '02. Cuéntanos más';
          if (blockOther) blockOther.style.display = 'block';
        }

        if (label) label.innerText = title;
        validateStep(2);
      }

      function validateStep(currentStep) {
        let isValid = false;

        if (currentStep === 1) {
          const selected = document.querySelector('input[name="goal"]:checked');
          isValid = !!selected;
          const btn = document.getElementById('btn-step-1');
          if (btn) {
            if (isValid) {
              btn.removeAttribute('disabled');
              btn.classList.remove('opacity-50', 'cursor-not-allowed');
              btn.classList.add('shadow-[0_0_20px_rgba(255,255,255,0.2)]');
            } else {
              btn.setAttribute('disabled', 'true');
              btn.classList.add('opacity-50', 'cursor-not-allowed');
              btn.classList.remove('shadow-[0_0_20px_rgba(255,255,255,0.2)]');
            }
          }
        } else if (currentStep === 2) {
          if (selectedGoal === 'experiencia') {
            const checked = document.querySelectorAll('input[name="details_exp"]:checked');
            isValid = checked.length > 0;
          } else if (selectedGoal === 'producto') {
            const selected = document.querySelector('input[name="details_prod"]:checked');
            isValid = !!selected;
          } else if (selectedGoal === 'consultoria') {
            const selected = document.querySelector('input[name="details_consult"]:checked');
            isValid = !!selected;
          } else if (selectedGoal === 'otro') {
            const input = document.getElementById('other-input');
            isValid = input && input.value.trim().length > 3;
          } else {
            // eficiencia / automatizacion use 'details_autom'
            const selected = document.querySelector('input[name="details_autom"]:checked');
            isValid = !!selected;
          }
          const btn = document.getElementById('btn-step-2');
          if (btn) {
            btn.disabled = !isValid;
            btn.classList.toggle('opacity-50', !isValid);
            btn.classList.toggle('cursor-not-allowed', !isValid);
          }
        } else if (currentStep === 4) {
          // Step 4 Validation: Name, Email + PRIVACY CHECK
          const name = document.getElementById('input-name')?.value.trim();
          const email = document.getElementById('input-email')?.value.trim();
          const privacy = document.getElementById('privacy-check')?.checked;

          isValid = name && email && privacy && email.includes('@');

          const btn = document.querySelector('button[type="submit"]');
          if (btn) {
            if (isValid) {
              btn.disabled = false;
              btn.classList.remove('opacity-50', 'cursor-not-allowed');
              btn.classList.add('shadow-[0_0_30px_rgba(168,85,247,0.4)]');
            } else {
              btn.disabled = true;
              btn.classList.add('opacity-50', 'cursor-not-allowed');
              btn.classList.remove('shadow-[0_0_30px_rgba(168,85,247,0.4)]');
            }
          }
        }
      }


      // Restore Missing Functions and Listeners
      document.addEventListener('DOMContentLoaded', () => {
        const inputs4 = ['input-name', 'input-email', 'privacy-check'];
        inputs4.forEach(id => {
          const el = document.getElementById(id);
          if (el) {
            el.addEventListener('input', () => validateStep(4));
            el.addEventListener('change', () => validateStep(4));
          }
        });

        // Cookie Banner Logic
        const banner = document.getElementById('cookie-banner');
        if (!localStorage.getItem('cookies-accepted')) {
          setTimeout(() => {
            if (banner) banner.classList.remove('translate-y-full');
          }, 1500);
        }
      });

      function acceptCookies() {
        localStorage.setItem('cookies-accepted', 'true');
        const banner = document.getElementById('cookie-banner');
        if (banner) banner.classList.add('translate-y-full');
      }

      function rejectCookies() {
        localStorage.setItem('cookies-accepted', 'false');
        const banner = document.getElementById('cookie-banner');
        if (banner) banner.classList.add('translate-y-full');
      }

      function updateWizard() {
        const steps = document.querySelectorAll('.wizard-step');
        const progressDiv = document.getElementById('wizard-progress');
        const stepCount = document.getElementById('step-count');

        if (stepCount) stepCount.innerText = step;
        if (progressDiv) progressDiv.style.width = `${(step / totalSteps) * 100}%`;

        steps.forEach(s => {
          const sNum = parseInt(s.dataset.step);
          if (sNum === step) {
            s.classList.remove('hidden');
            setTimeout(() => {
              s.classList.remove('opacity-0', 'translate-x-[20px]');
            }, 50);
          } else {
            s.classList.add('opacity-0', 'translate-x-[20px]');
            setTimeout(() => {
              s.classList.add('hidden');
            }, 300);
          }
        });
      }

      async function submitForm() {
        const btn = document.querySelector('button[type="submit"]');
        const originalText = btn ? btn.innerHTML : 'Enviar';

        // 1. Basic Validation
        const name = document.getElementById('input-name')?.value.trim();
        const company = document.getElementById('input-company')?.value.trim();
        const email = document.getElementById('input-email')?.value.trim();
        const privacy = document.getElementById('privacy-check')?.checked;

        if (!name || !email || !privacy) return;

        // 2. Data Gathering
        // Goal (Step 1)
        const goalInput = document.querySelector('input[name="goal"]:checked');
        const goalMap = {
          'eficiencia': 'Eficiencia Operativa',
          'automatizacion': 'Automatización con IA',
          'experiencia': 'Experiencia de Cliente',
          'producto': 'Diseño de Producto Digital',
          'consultoria': 'Consultoría Estratégica',
          'otro': 'Otro / General'
        };
        const rawGoal = goalInput ? goalInput.value : 'otro';
        const interes = goalMap[rawGoal] || rawGoal;

        // Details (Step 2)
        let specificDetail = '';
        if (rawGoal === 'eficiencia' || rawGoal === 'automatizacion') {
          const val = document.querySelector('input[name="details_autom"]:checked')?.value;
          const map = { 'pequeño': 'Equipo 1-10', 'mediano': 'Equipo 11-50', 'grande': 'Equipo 50+' };
          specificDetail = map[val] ? `Tamaño Equipo: ${map[val]}` : '';
        } else if (rawGoal === 'experiencia') {
          const checked = Array.from(document.querySelectorAll('input[name="details_exp"]:checked')).map(cb => cb.parentNode.querySelector('span').innerText);
          specificDetail = checked.length ? `Canales: ${checked.join(', ')}` : '';
        } else if (rawGoal === 'producto') {
          const val = document.querySelector('input[name="details_prod"]:checked')?.value;
          const map = { 'idea': 'Solo Idea', 'mvp': 'MVP / Beta', 'scale': 'Escalado' };
          specificDetail = map[val] ? `Fase: ${map[val]}` : '';
        } else if (rawGoal === 'consultoria') {
          const val = document.querySelector('input[name="details_consult"]:checked')?.value;
          const map = { 'estrategia': 'Estrategia General', 'formacion': 'Formación', 'auditoria': 'Auditoría Técnica' };
          specificDetail = map[val] ? `Tipo: ${map[val]}` : '';
        } else if (rawGoal === 'otro') {
          specificDetail = document.getElementById('details_other')?.value || '';
        }

        // Context (Step 3)
        const userContext = document.getElementById('context-input')?.value.trim() || '';

        // Combined Details for Email
        const detallesFinal = `[${specificDetail}]\n\n${userContext}`;

        // 3. Payload Construction
        const payload = {
          nombrecompleto: name,
          empresa: company || 'No especificada',
          email: email,
          interes: interes,
          detalles: detallesFinal
        };

        // 4. Submission
        if (btn) {
          btn.innerText = 'Enviando...';
          btn.disabled = true;
          btn.classList.add('opacity-75', 'cursor-wait');
        }

        try {
          // Send to N8N Webhook
          const response = await fetch('https://n8n-n8n.juvvro.easypanel.host/webhook/d02ef9d4-0ada-4b1a-a8d2-e436a8275732', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json'
            },
            body: JSON.stringify(payload)
          });

          if (response.ok) {
            // Success UI
            closeModal();
            const success = document.getElementById('success-overlay');
            if (success) {
              success.classList.remove('hidden');
              // Trigger reflow
              void success.offsetWidth;
              success.classList.remove('opacity-0');
            }
            // Optional: Reset form
            document.getElementById('wizard-form')?.reset();
          } else {
            console.error('Error en el envío', response.statusText);
            alert('Hubo un error al enviar el formulario. Por favor, inténtalo de nuevo o escribe a contacto@agenciautia.es');
          }
        } catch (error) {
          console.error('Error de red', error);
          alert('Error de conexión. Por favor, revisa tu internet o escribe a contacto@agenciautia.es');
        } finally {
          if (btn) {
            btn.innerHTML = originalText;
            btn.disabled = false;
            btn.classList.remove('opacity-75', 'cursor-wait');
          }
        }
      }

      function closeSuccess() {
        const s = document.getElementById('success-overlay');
        if (s) {
          s.classList.add('opacity-0');
          setTimeout(() => s.classList.add('hidden'), 500);
        }
      }

      // --- POLICY MODAL LOGIC ---
      const policyModal = document.getElementById('policy-modal');
      const policyTitle = document.getElementById('policy-title');
      const policyBody = document.getElementById('policy-body');

      const policies = {
        privacy: `
          <h4 class="text-white font-medium mb-2">1. Responsable del Tratamiento</h4>
          <p class="mb-4">Los datos de carácter personal que nos proporcione serán tratados por Miquel Nogueras (autiA).</p>
          
          <h4 class="text-white font-medium mb-2">2. Finalidad del Tratamiento</h4>
          <p class="mb-4">En autiA tratamos la información que nos facilitan las personas interesadas con el fin de:</p>
          <ul class="list-disc pl-5 mb-4 space-y-1">
            <li>Gestionar el envío de la información o propuestas comerciales que nos soliciten a través del formulario de contacto.</li>
            <li>Gestionar la reserva de citas y auditorías técnicas mediante la plataforma integrada.</li>
            <li>Enviar boletines (newsletters) o comunicaciones comerciales, en caso de haber otorgado consentimiento explícito.</li>
          </ul>

          <h4 class="text-white font-medium mb-2">3. Legitimación</h4>
          <p class="mb-4">La base legal para el tratamiento de sus datos es el consentimiento. Al rellenar los formularios y marcar la casilla de aceptación, usted acepta legítimamente el tratamiento de sus datos conforme a esta política.</p>

          <h4 class="text-white font-medium mb-2">4. Destinatarios de Datos (Herramientas)</h4>
          <p class="mb-4">Para prestar servicios estrictamente necesarios para el desarrollo de la actividad, autiA comparte datos con los siguientes prestadores bajo sus correspondientes condiciones de privacidad:</p>
          <ul class="list-disc pl-5 mb-4 space-y-1">
            <li>Automatización: n8n (Workflow automation).</li>
            <li>Agendamiento: Cal.com, Inc. (Gestión de calendario).</li>
            <li>Hosting y Correo: Google / Vercel.</li>
          </ul>

          <h4 class="text-white font-medium mb-2">5. Derechos del Usuario</h4>
          <p class="mb-4">Cualquier persona tiene derecho a obtener confirmación sobre si en autiA estamos tratando datos personales que les conciernan o no. Las personas interesadas tienen derecho a acceder a sus datos personales, así como a solicitar la rectificación de los datos inexactos o solicitar su supresión. Para ello, puede dirigir un email a: contacto@agenciautia.es.</p>
        `,
        terms: `
          <h4 class="text-white font-medium mb-2">1. Objeto</h4>
          <p class="mb-4">Las presentes condiciones regulan el uso del sitio web autiA, mediante el cual se ofrece información sobre servicios de ingeniería de Inteligencia Artificial y consultoría de software.</p>

          <h4 class="text-white font-medium mb-2">2. Uso del Sitio Web</h4>
          <p class="mb-4">El usuario se compromete a utilizar el sitio web, sus contenidos y servicios de conformidad con la Ley, el presente Aviso Legal, las buenas costumbres y el orden público. Del mismo modo, el usuario se obliga a no utilizar el sitio web con fines o efectos ilícitos o lesivos.</p>

          <h4 class="text-white font-medium mb-2">3. Exclusión de Garantías y Responsabilidad</h4>
          <p class="mb-4">autiA no se hace responsable, en ningún caso, de los daños y perjuicios de cualquier naturaleza que pudieran ocasionar, a título enunciativo: errores u omisiones en los contenidos, falta de disponibilidad del portal o la transmisión de virus o programas maliciosos o lesivos en los contenidos, a pesar de haber adoptado todas las medidas tecnológicas necesarias para evitarlo.</p>

          <h4 class="text-white font-medium mb-2">4. Modificaciones</h4>
          <p class="mb-4">autiA se reserva el derecho de efectuar sin previo aviso las modificaciones que considere oportunas en su portal, pudiendo cambiar, suprimir o añadir tanto los contenidos y servicios que se presten a través de la misma como la forma en la que éstos aparezcan presentados.</p>
        `,
        legal: `
          <h4 class="text-white font-medium mb-2">1. Objeto</h4>
          <p class="mb-4">Las presentes condiciones regulan el uso del sitio web autiA, mediante el cual se ofrece información sobre servicios de ingeniería de Inteligencia Artificial y consultoría de software.</p>

          <h4 class="text-white font-medium mb-2">2. Uso del Sitio Web</h4>
          <p class="mb-4">El usuario se compromete a utilizar el sitio web, sus contenidos y servicios de conformidad con la Ley, el presente Aviso Legal, las buenas costumbres y el orden público. Del mismo modo, el usuario se obliga a no utilizar el sitio web con fines o efectos ilícitos o lesivos.</p>

          <h4 class="text-white font-medium mb-2">3. Exclusión de Garantías y Responsabilidad</h4>
          <p class="mb-4">autiA no se hace responsable, en ningún caso, de los daños y perjuicios de cualquier naturaleza que pudieran ocasionar, a título enunciativo: errores u omisiones en los contenidos, falta de disponibilidad del portal o la transmisión de virus o programas maliciosos o lesivos en los contenidos, a pesar de haber adoptado todas las medidas tecnológicas necesarias para evitarlo.</p>

          <h4 class="text-white font-medium mb-2">4. Modificaciones</h4>
          <p class="mb-4">autiA se reserva el derecho de efectuar sin previo aviso las modificaciones que considere oportunas en su portal, pudiendo cambiar, suprimir o añadir tanto los contenidos y servicios que se presten a través de la misma como la forma en la que éstos aparezcan presentados.</p>
        `
      };

      function openPolicy(type) {
        if (policyModal && policies[type]) {
          // Set Title
          const titles = { privacy: "Política de Privacidad", terms: "Términos y Condiciones", legal: "Aviso Legal" };
          policyTitle.innerText = titles[type];

          // Set Content
          policyBody.innerHTML = policies[type];

          // Show Modal
          policyModal.classList.remove('hidden');
          void policyModal.offsetWidth; // Trigger reflow
          policyModal.classList.remove('opacity-0');
          document.body.style.overflow = 'hidden';
        }
      }

      function closePolicy() {
        if (policyModal) {
          policyModal.classList.add('opacity-0');
          setTimeout(() => {
            policyModal.classList.add('hidden');
            document.body.style.overflow = '';
          }, 500);
        }
      }

      // Close on Outside Click (Policy)
      if (policyModal) {
        policyModal.addEventListener('click', (e) => {
          if (e.target === policyModal) closePolicy();
        });
      }

      // ------------------------------------------ //
      // METHODOLOGY INTERACTIVE COMPONENT
      // ------------------------------------------ //
      class MethodologyManager {
        constructor() {
          this.tabs = document.querySelectorAll('.method-tab');
          this.displayContainer = document.getElementById('method-display-container');
          this.glow = document.getElementById('method-glow');
          this.iconContainer = document.getElementById('method-icon-container');
          this.icon = document.getElementById('method-icon');
          this.title = document.getElementById('method-title');
          this.list = document.getElementById('method-list');

          this.currentIndex = 0;
          this.interval = null;
          this.isPaused = false;

          this.data = [
            {
              color: 'emerald',
              hex: '#10b981',
              icon: 'ph:magnifying-glass-duotone',
              title: 'Auditoría 360°',
              items: [
                'Análisis de Infraestructura Actual',
                'Identificación de Cuellos de Botella',
                'Proyección de ROI y KPIs',
                'Roadmap de Transformación'
              ]
            },
            {
              color: 'purple',
              hex: '#a855f7',
              icon: 'ph:strategy-duotone',
              title: 'Arquitectura & Estrategia',
              items: [
                'Selección de Modelos (LLMs)',
                'Diseño de Base de Datos Vectorial',
                'Protocolos de Seguridad y Privacidad',
                'Definición del Stack Tecnológico'
              ]
            },
            {
              color: 'blue',
              hex: '#3b82f6',
              icon: 'ph:code-duotone',
              title: 'Desarrollo Iterativo',
              items: [
                'Sprints Ágiles de 2 Semanas',
                'Integración Continua (CI/CD)',
                'Pruebas de Usuario (UAT)',
                'Optimización de Latencia'
              ]
            },
            {
              color: 'amber',
              hex: '#f59e0b',
              icon: 'ph:rocket-duotone',
              title: 'Despliegue & Escala',
              items: [
                'Puesta en Producción Global',
                'Dashboard de Monitorización',
                'Formación Técnica al Equipo',
                'Soporte y Mantenimiento'
              ]
            }
          ];

          this.init();
        }

        init() {
          if (!this.tabs.length) return;

          // Click Events
          this.tabs.forEach((tab, index) => {
            tab.addEventListener('click', () => {
              this.setStep(index);
              this.pauseAutoPlay();
            });

            // Hover interactions
            tab.addEventListener('mouseenter', () => this.isPaused = true);
            tab.addEventListener('mouseleave', () => {
              this.isPaused = false;
            });
          });

          // Initial State
          this.setStep(0);

          // Auto Play
          this.startAutoPlay();
        }

        setStep(index) {
          this.currentIndex = index;
          const data = this.data[index];

          // Update Tabs UI
          this.tabs.forEach((tab, i) => {
            const bar = tab.querySelector('.active-bar');
            const circle = tab.querySelector('.active-circle');

            if (i === index) {
              tab.classList.add('active', 'bg-white/[0.05]', 'border-white/10');
              tab.classList.remove('bg-white/[0.02]', 'border-white/5');
              bar.classList.remove('opacity-0');
              circle.classList.add(`text-${data.color}-400`, `border-${data.color}-500/50`);
              circle.classList.remove('text-neutral-500', 'border-white/10');
            } else {
              tab.classList.remove('active', 'bg-white/[0.05]', 'border-white/10');
              tab.classList.add('bg-white/[0.02]', 'border-white/5');
              bar.classList.add('opacity-0');
              circle.classList.remove(`text-${this.data[i].color}-400`, `border-${this.data[i].color}-500/50`);
              circle.classList.add('text-neutral-500', 'border-white/10');
            }
          });

          // Update Visual Display (Right Side)
          this.glow.className = `absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[300px] h-[300px] bg-${data.color}-500/20 blur-[100px] rounded-full transition-colors duration-700`;
          this.icon.className = `text-${data.color}-400 transition-all duration-300`;

          this.icon.setAttribute('icon', data.icon);
          this.title.innerText = data.title;

          // Update List
          this.list.innerHTML = data.items.map(item => `
             <div class="flex items-center gap-3 text-sm text-neutral-300 animate-[fadeIn_0.5s_ease-out]">
                <iconify-icon icon="ph:check-circle-fill" class="text-${data.color}-500 flex-shrink-0" width="16"></iconify-icon>
                <span>${item}</span>
             </div>
          `).join('');
        }

        startAutoPlay() {
          this.interval = setInterval(() => {
            if (!this.isPaused) {
              let next = this.currentIndex + 1;
              if (next >= this.data.length) next = 0;
              this.setStep(next);
            }
          }, 4000); // 4 seconds
        }

        pauseAutoPlay() {
          clearInterval(this.interval);
          this.startAutoPlay(); // Restart timer
        }
      }

      // Initialize Logic
      document.addEventListener('DOMContentLoaded', () => {
        new MethodologyManager();
      });
      // Fallback in case DOM is already loaded
      if (document.readyState === 'complete' || document.readyState === 'interactive') {
        new MethodologyManager();
      }

    </script>

    <!-- Footer / CTA -->
    <footer id="contacto" class="bg-black pt-32 pb-12 border-t border-white/10 relative">
      <div class="max-w-[1400px] mx-auto px-6">
        <div class="flex flex-col md:flex-row justify-between items-start mb-24">
          <div class="max-w-xl">
            <h2 class="text-5xl md:text-7xl font-medium tracking-tighter text-white mb-8">
              ¿Hablamos?
            </h2>
            <p class="text-neutral-400 text-lg mb-10">
              Si buscas un partner que entienda la tecnología pero hable de negocio, es aquí.
            </p>
            <a href="https://cal.com/agencia-autia" target="_blank" rel="noopener noreferrer"
              class="px-8 py-4 bg-white text-black text-sm font-semibold rounded-full hover:bg-neutral-200 transition-colors inline-block">
              Agendar Llamada
            </a>
          </div>
          <div class="mt-12 md:mt-0 text-right">
            <img src="logo.png" alt="autiA Logo" class="h-16 w-auto object-contain mb-6 opacity-80 inline-block"
              loading="lazy">
            <div class="text-neutral-500 text-sm">
              Barcelona, España.
              <br>
              Trabajando globalmente.
            </div>
          </div>
        </div>

        <div
          class="border-t border-white/10 pt-10 flex flex-col md:flex-row justify-between items-center text-[10px] font-mono uppercase text-neutral-600">
          <div class="flex gap-6 mb-4 md:mb-0">
            <button onclick="openPolicy('privacy')" class="hover:text-white transition-colors">Política de
              Privacidad</button>
            <button onclick="openPolicy('terms')" class="hover:text-white transition-colors">Términos de
              Servicio</button>
            <button onclick="openPolicy('legal')" class="hover:text-white transition-colors">Aviso Legal</button>
          </div>
          <div>
            © 2026 autiA Agency. All rights reserved.
          </div>
        </div>
      </div>
    </footer>
  </main>

</body>

</html>